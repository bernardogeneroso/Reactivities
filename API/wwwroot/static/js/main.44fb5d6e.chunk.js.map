{"version":3,"sources":["app/models/pagination.ts","app/api/agent.ts","app/models/activity.ts","app/models/profile.ts","app/stores/context/activity.ts","app/stores/context/profile.ts","app/stores/context/user.ts","app/stores/index.tsx","app/stores/context/common.ts","app/stores/context/comment.ts","app/layout/ScrollToTop.tsx","reportWebVitals.ts","app/stores/useStore.ts","app/layout/PrivateRoute.tsx","app/components/Loading/index.tsx","features/activities/ActivityListItemPlaceholder/index.tsx","features/profiles/ProfileHeader/FollowButton/index.tsx","features/profiles/ProfileCard/index.tsx","features/activities/ActivityList/ActivityItem/AttendeesList/index.tsx","app/components/Button/styles.ts","app/components/Button/index.tsx","features/activities/ActivityList/ActivityItem/styles.ts","features/activities/ActivityList/ActivityItem/index.tsx","features/activities/ActivityList/styles.ts","features/activities/ActivityList/index.tsx","features/activities/ActivityFilters/styles.ts","features/activities/ActivityFilters/index.tsx","features/activities/styles.ts","features/activities/index.tsx","app/components/Input/styles.ts","app/components/Input/index.tsx","app/components/Textarea/styles.ts","app/components/Textarea/index.tsx","app/components/SelectInput/styles.ts","app/components/SelectInput/index.tsx","app/components/SelectInput/Options/category.ts","app/components/DateInput/styles.ts","app/components/DateInput/index.tsx","features/activities/ActivityForm/styles.ts","features/activities/ActivityForm/index.tsx","features/activities/ActivityDetails/Chat/styles.ts","features/activities/ActivityDetails/Chat/index.tsx","features/activities/ActivityDetails/Header/styles.ts","features/activities/ActivityDetails/Header/index.tsx","features/activities/ActivityDetails/Information/styles.ts","features/activities/ActivityDetails/Information/index.tsx","features/activities/ActivityDetails/SideBar/styles.ts","features/activities/ActivityDetails/SideBar/index.tsx","features/activities/ActivityDetails/styles.ts","features/activities/ActivityDetails/index.tsx","features/Home/styles.ts","features/Home/index.tsx","features/errors/ValidationErrors/index.tsx","features/errors/TestError.tsx","features/errors/NotFound/styles.ts","features/errors/NotFound/index.tsx","features/errors/ServerError/index.tsx","features/users/LoginForm/styles.ts","features/users/LoginForm/index.tsx","features/users/RegisterForm/styles.ts","features/users/RegisterForm/index.tsx","features/profiles/ProfileHeader/styles.ts","features/profiles/ProfileHeader/index.tsx","features/profiles/ProfileEditForm/index.tsx","features/profiles/ProfileAbout/index.tsx","features/profiles/ProfileActivities/index.tsx","features/profiles/ProfileFollowings/index.tsx","app/components/PhotoUploadWidget/PhotoWidgetCropper/index.tsx","app/components/PhotoUploadWidget/PhotoWidgetDropzone/index.tsx","app/components/PhotoUploadWidget/index.tsx","features/profiles/ProfilePhotos/index.tsx","features/profiles/ProfileContent/styles.ts","features/profiles/ProfileContent/index.tsx","features/profiles/styles.ts","features/profiles/index.tsx","app/styles/NavBar.ts","app/layout/NavBar.tsx","app/styles/App.ts","app/layout/App.tsx","app/styles/global.ts","index.tsx"],"names":["PaginatedResult","data","pagination","this","PagingParams","pageNumber","pageSize","axios","defaults","baseURL","process","interceptors","request","use","config","token","store","commonStore","headers","Authorization","response","a","JSON","parse","error","status","toast","method","errors","hasOwnProperty","history","push","modalStateErrors","key","flat","setServerError","Promise","reject","responseBody","requests","url","get","then","body","post","put","delete","agent","Activities","list","params","details","id","create","activity","update","attend","Account","current","login","user","register","fbLogin","accessToken","Profiles","userName","uploadPhoto","file","formData","FormData","append","setMainPhoto","deletePhoto","updateProfile","profile","updateFollowing","listFollowings","predicate","listActivities","Activity","init","Object","assign","ActivityFormValues","undefined","title","category","description","date","city","venue","Profile","displayName","image","ActivityStore","activitiesRegister","Map","selectedActivity","submitting","loading","loadingInitial","pagingParams","set","setPagingParams","setPredicate","value","resetPredicate","forEach","loadActivities","axiosParams","result","runInAction","setActivity","setPagination","console","log","getActivity","loadActivity","createActivity","userStore","attendee","newActivity","hostUserName","attendees","updateActivity","updatedActivity","deleteActivity","updateAttendance","isGoing","filter","cancelActivityToggle","isCancelled","clearSelectedActivity","updateAttendeeFollowing","following","followersCount","makeAutoObservable","reaction","keys","clear","URLSearchParams","toString","toISOString","Array","from","values","sort","b","getTime","entries","activitiesByDate","reduce","activities","format","some","isHost","host","find","Date","ProfileStore","loadingProfile","uploading","followings","loadingFollowings","activeTab","userActivities","loadingActivities","setActiveTab","loadProfile","photo","photos","isMain","setImage","p","setDisplayName","activityStore","followingCount","loadFollowings","loadUserActivities","UserStore","fbAccessToken","fbLoading","credentials","setToken","logout","localStorage","removeItem","getUser","name","getFacebookLoginStatus","window","FB","getLoginStatus","authResponse","facebookLogin","apiLogin","catch","err","scope","getItem","appLoaded","setAppLoaded","setItem","profileStore","commentStore","comments","hubConnection","createHubConnection","activityId","HubConnectionBuilder","withUrl","accessTokenFactory","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","on","comment","createdAt","unshift","stopHubConnection","stop","clearComments","addComment","invoke","StoreContext","createContext","StoreProvider","children","Provider","ScrollToTop","pathname","useLocation","useEffect","scrollTo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","useStore","useContext","PrivateRoute","Component","component","rest","isLoggedIn","render","props","to","Loading","inverted","content","Dimmer","active","Loader","ActivityListItemPlaceholder","Placeholder","fluid","style","marginTop","Segment","Group","minHeight","Header","Line","Paragraph","secondary","clearing","Button","disabled","color","floated","observer","Reveal","animated","Content","visible","width","hidden","basic","onClick","e","preventDefault","handleFollow","Card","as","Link","Image","src","alt","Description","str","length","slice","truncate","bio","extra","Icon","styles","borderColor","borderWidth","List","horizontal","map","Popup","hoverable","trigger","Item","size","circular","bordered","colors","master","positive","negative","none","default","Container","styled","button","situation","type","height","div","useState","target","setTarge","Label","attached","textAlign","className","event","currentTarget","groupedActivities","group","Filter","activated","shade","has","onChange","loadingNext","setLoadingNext","gridArea","pageStart","loadMore","currentPage","hasMore","totalPages","initialLoad","Input","useField","field","meta","touched","htmlFor","label","Textarea","SelectInput","helpers","Select","clearable","options","d","setValue","onBlur","setTouched","placeholder","text","DateInput","selected","validationSchema","Yup","required","nullable","useHistory","useParams","enableReinitialize","initialValues","onSubmit","uuid","handleSubmit","isValid","isSubmitting","dirty","autoComplete","cols","rows","placeholderText","showTimeSelect","timeCaption","dateFormat","schema","resetForm","position","onKeyPress","shiftKey","form","setFieldValue","formatDistanceToNow","zIndex","left","top","ribbon","ValidationErrors","Message","i","TestErrors","setErrors","widths","baseUrl","primary","NotFound","sub","message","email","password","marginBottom","formValidation","Grid","Column","avatar","Statistic","Divider","handleToggleEditMode","isCurrentUser","editMode","setEditMode","useCallback","Tab","Pane","icon","whiteSpace","panes","menuItem","pane","menu","pointing","onTabChange","activeIndex","handleTabChange","itemsPerRow","objectFit","Meta","PhotoWidgetCropper","imagePreview","handleSetCropper","initialAspectRatio","aspectRatio","preview","guides","viewMode","autoCropArea","background","onInitialized","PhotoWidgetDropzone","handleSetFiles","dzStyles","border","borderRadius","paddingTop","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","getRootProps","getInputProps","isDragActive","PhotoUploadWidget","handlePhotoUpload","files","setFiles","cropper","setCropper","revokeObjectURL","onCrop","getCroppedCanvas","toBlob","blob","overflow","addPhotoMode","setAddPhotoMode","setTarget","handleToggleAddPhotoMode","handleSetMainPhoto","handleDeletePhoto","vertical","menuPosition","spaced","Dropdown","Menu","Background","location","finally","path","Home","exact","ActivityDashboard","ActivityDetails","ActivityForm","ServerError","LoginForm","RegisterForm","hideProgressBar","createGlobalStyle","createBrowserHistory","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.44fb5d6e.chunk.js","sourcesContent":["export interface Pagination {\r\n  currentPage: number;\r\n  itemsPerPage: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n}\r\n\r\nexport class PaginatedResult<T> {\r\n  data: T;\r\n  pagination: Pagination;\r\n\r\n  constructor(data: T, pagination: Pagination) {\r\n    this.data = data;\r\n    this.pagination = pagination;\r\n  }\r\n}\r\n\r\nexport class PagingParams {\r\n  pageNumber;\r\n  pageSize;\r\n\r\n  constructor(pageNumber = 1, pageSize = 2) {\r\n    this.pageNumber = pageNumber;\r\n    this.pageSize = pageSize;\r\n  }\r\n}\r\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { store } from \"../stores\";\r\nimport { history } from \"../..\";\r\nimport { PaginatedResult } from \"../models/pagination\";\r\nimport { Activity, ActivityFormValues } from \"../models/activity\";\r\nimport { User, UserFormValues } from \"../models/user\";\r\nimport { Photo, Profile, UserActivity } from \"../models/profile\";\r\n\r\nconst sleep = (delay: number) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(resolve, delay);\r\n  });\r\n};\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.request.use((config) => {\r\n  const token = store.commonStore.token;\r\n\r\n  if (token) config.headers!.Authorization = `Bearer ${token}`;\r\n\r\n  return config;\r\n});\r\n\r\naxios.interceptors.response.use(\r\n  async (response) => {\r\n    if (process.env.NODE_ENV === \"development\") await sleep(1000);\r\n    const pagination = response.headers[\"pagination\"];\r\n    if (pagination) {\r\n      response.data = new PaginatedResult(\r\n        response.data,\r\n        JSON.parse(pagination)\r\n      );\r\n      return response as AxiosResponse<PaginatedResult<any>>;\r\n    }\r\n    return response;\r\n  },\r\n  (error: AxiosError) => {\r\n    const { data, status, config } = error.response!;\r\n\r\n    switch (status) {\r\n      case 400:\r\n        if (typeof data === \"string\") {\r\n          toast.error(data);\r\n        } else if (\r\n          config.method === \"get\" &&\r\n          data.errors.hasOwnProperty(\"id\")\r\n        ) {\r\n          history.push(\"/not-found\");\r\n        } else if (data.errors) {\r\n          const modalStateErrors = [];\r\n\r\n          for (const key in data.errors) {\r\n            if (data.errors[key]) {\r\n              modalStateErrors.push(data.errors[key]);\r\n            }\r\n          }\r\n\r\n          throw modalStateErrors.flat();\r\n        }\r\n        break;\r\n      case 401:\r\n        toast.error(\"You are not authorized\");\r\n        break;\r\n      case 404:\r\n        history.push(\"/not-found\");\r\n        break;\r\n      case 500:\r\n        store.commonStore.setServerError(data);\r\n        history.push(\"/server-error\");\r\n        break;\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst responseBody = <T>(response: AxiosResponse<T>) => response.data;\r\n\r\nconst requests = {\r\n  get: <T>(url: string) => axios.get<T>(url).then(responseBody),\r\n  post: <T>(url: string, body: {}) =>\r\n    axios.post<T>(url, body).then(responseBody),\r\n  put: <T>(url: string, body: {}) => axios.put<T>(url, body).then(responseBody),\r\n  del: <T>(url: string) => axios.delete<T>(url).then(responseBody),\r\n};\r\n\r\nconst Activities = {\r\n  list: (params: URLSearchParams) =>\r\n    axios\r\n      .get<PaginatedResult<Activity[]>>(\"/activities\", { params })\r\n      .then(responseBody),\r\n  details: (id: string) => requests.get<Activity>(`/activities/${id}`),\r\n  create: (activity: ActivityFormValues) =>\r\n    requests.post<void>(\"/activities\", activity),\r\n  update: (activity: ActivityFormValues) =>\r\n    requests.put<void>(`/activities/${activity.id}`, activity),\r\n  delete: (id: string) => requests.del<void>(`/activities/${id}`),\r\n  attend: (id: string) => requests.post<void>(`/activities/${id}/attend`, {}),\r\n};\r\n\r\nconst Account = {\r\n  current: () => requests.get<User>(\"/account\"),\r\n  login: (user: UserFormValues) => requests.post<User>(\"/account/login\", user),\r\n  register: (user: UserFormValues) =>\r\n    requests.post<User>(\"/account/register\", user),\r\n  fbLogin: (accessToken: string) =>\r\n    requests.post<User>(`/account/fbLogin?accessToken=${accessToken}`, {}),\r\n};\r\n\r\nconst Profiles = {\r\n  get: (userName: string) => requests.get<Profile>(`/profiles/${userName}`),\r\n  uploadPhoto: (file: Blob) => {\r\n    let formData = new FormData();\r\n    formData.append(\"File\", file);\r\n\r\n    return axios.post<Photo>(\"/photos\", formData, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  },\r\n  setMainPhoto: (id: string) => requests.post(`/photos/${id}/setMain`, {}),\r\n  deletePhoto: (id: string) => requests.del(`/photos/${id}`),\r\n  updateProfile: (profile: Partial<Profile>) =>\r\n    requests.put(`/profiles`, profile),\r\n  updateFollowing: (userName: string) =>\r\n    requests.post(`/follow/${userName}`, {}),\r\n  listFollowings: (userName: string, predicate: string) =>\r\n    requests.get<Profile[]>(`/follow/${userName}?predicate=${predicate}`),\r\n  listActivities: (userName: string, predicate: string) =>\r\n    requests.get<UserActivity[]>(\r\n      `/profiles/${userName}/activities?predicate=${predicate}`\r\n    ),\r\n};\r\n\r\nconst agent = {\r\n  Activities,\r\n  Account,\r\n  Profiles,\r\n};\r\n\r\nexport default agent;\r\n","import { Profile } from \"./profile\";\r\n\r\nexport interface Activity {\r\n  id: string;\r\n  title: string;\r\n  date: Date | null;\r\n  description: string;\r\n  category: string;\r\n  city: string;\r\n  venue: string;\r\n  hostUserName?: string;\r\n  isCancelled?: boolean;\r\n  isGoing: boolean;\r\n  isHost: boolean;\r\n  host?: Profile;\r\n  attendees: Profile[];\r\n}\r\n\r\nexport class Activity implements Activity {\r\n  constructor(init?: ActivityFormValues) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ActivityFormValues {\r\n  id?: string = undefined;\r\n  title: string = \"\";\r\n  category: string = \"\";\r\n  description: string = \"\";\r\n  date: Date | null = null;\r\n  city: string = \"\";\r\n  venue: string = \"\";\r\n\r\n  constructor(activity?: ActivityFormValues) {\r\n    if (activity) {\r\n      this.id = activity.id;\r\n      this.title = activity.title;\r\n      this.category = activity.category;\r\n      this.description = activity.description;\r\n      this.date = activity.date;\r\n      this.city = activity.city;\r\n      this.venue = activity.venue;\r\n    }\r\n  }\r\n}\r\n","import { User } from \"./user\";\r\n\r\nexport interface Profile {\r\n  userName: string;\r\n  displayName: string;\r\n  image?: string;\r\n  bio?: string;\r\n  followersCount: number;\r\n  followingCount: number;\r\n  following: boolean;\r\n  photos?: Photo[];\r\n}\r\n\r\nexport class Profile implements Profile {\r\n  constructor(user: User) {\r\n    this.userName = user.userName;\r\n    this.displayName = user.displayName;\r\n    this.image = user.image;\r\n  }\r\n}\r\n\r\nexport interface Photo {\r\n  id: string;\r\n  url: string;\r\n  isMain: boolean;\r\n}\r\n\r\nexport interface UserActivity {\r\n  id: string;\r\n  title: string;\r\n  category: string;\r\n  date: Date;\r\n}\r\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport agent from \"../../api/agent\";\r\n\r\nimport { Activity, ActivityFormValues } from \"../../models/activity\";\r\nimport { store } from \"..\";\r\nimport { Profile } from \"../../models/profile\";\r\nimport { Pagination, PagingParams } from \"../../models/pagination\";\r\n\r\nexport default class ActivityStore {\r\n  activitiesRegister = new Map<string, Activity>();\r\n  selectedActivity: Activity | undefined = undefined;\r\n  submitting = false;\r\n  loading = false;\r\n  loadingInitial = false;\r\n  pagination: Pagination | null = null;\r\n  pagingParams = new PagingParams();\r\n  predicate = new Map().set(\"all\", true);\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    reaction(\r\n      () => this.predicate.keys(),\r\n      () => {\r\n        this.pagingParams = new PagingParams();\r\n        this.activitiesRegister.clear();\r\n        this.loadActivities();\r\n      }\r\n    );\r\n  }\r\n\r\n  setPagingParams = (pagingParams: PagingParams) => {\r\n    this.pagingParams = pagingParams;\r\n  };\r\n\r\n  setPredicate = (predicate: string, value: string | Date) => {\r\n    const resetPredicate = () => {\r\n      this.predicate.forEach((value, key) => {\r\n        if (key !== \"startDate\") this.predicate.delete(key);\r\n      });\r\n    };\r\n\r\n    switch (predicate) {\r\n      case \"all\":\r\n        resetPredicate();\r\n        this.predicate.set(\"all\", true);\r\n        break;\r\n      case \"isGoing\":\r\n        resetPredicate();\r\n        this.predicate.set(\"isGoing\", true);\r\n        break;\r\n      case \"isHost\":\r\n        resetPredicate();\r\n        this.predicate.set(\"isHost\", true);\r\n        break;\r\n      case \"startDate\":\r\n        this.predicate.delete(\"startDate\");\r\n        this.predicate.set(\"startDate\", value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  get axiosParams() {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append(\"pageNumber\", this.pagingParams.pageNumber.toString());\r\n    params.append(\"pageSize\", this.pagingParams.pageSize.toString());\r\n    this.predicate.forEach((value, key) => {\r\n      if (key === \"startDate\") {\r\n        params.append(key, (value as Date).toISOString());\r\n      } else {\r\n        params.append(key, value);\r\n      }\r\n    });\r\n\r\n    return params;\r\n  }\r\n\r\n  get activitiesByDate() {\r\n    return Array.from(this.activitiesRegister.values()).sort(\r\n      (a, b) => a.date!.getTime() - b.date!.getTime()\r\n    );\r\n  }\r\n\r\n  get groupedActivities() {\r\n    return Object.entries(\r\n      this.activitiesByDate.reduce((activities, activity) => {\r\n        const date = format(activity.date!, \"dd MMM yyyy\");\r\n        activities[date] = activities[date]\r\n          ? [...activities[date], activity]\r\n          : [activity];\r\n\r\n        return activities;\r\n      }, {} as { [key: string]: Activity[] })\r\n    );\r\n  }\r\n\r\n  loadActivities = async () => {\r\n    this.loadingInitial = true;\r\n\r\n    try {\r\n      const result = await agent.Activities.list(this.axiosParams);\r\n\r\n      runInAction(() => {\r\n        result.data.forEach((activity) => {\r\n          this.setActivity(activity);\r\n        });\r\n        this.setPagination(result.pagination);\r\n        this.loadingInitial = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => {\r\n        this.loadingInitial = false;\r\n      });\r\n    }\r\n  };\r\n\r\n  setPagination = (pagination: Pagination) => {\r\n    this.pagination = pagination;\r\n  };\r\n\r\n  private setActivity(activity: Activity) {\r\n    const user = store.userStore.user;\r\n\r\n    if (user) {\r\n      activity.isGoing = activity.attendees!.some(\r\n        (a) => a.userName === user.userName\r\n      );\r\n      activity.isHost = activity.hostUserName === user.userName;\r\n      activity.host = activity.attendees?.find(\r\n        (a) => a.userName === activity.hostUserName\r\n      );\r\n    }\r\n\r\n    activity.date = new Date(activity.date!);\r\n    this.activitiesRegister.set(activity.id, activity);\r\n  }\r\n\r\n  private getActivity = (id: string) => {\r\n    return this.activitiesRegister.get(id);\r\n  };\r\n\r\n  loadActivity = async (id: string) => {\r\n    let activity = this.getActivity(id);\r\n\r\n    if (activity) {\r\n      this.selectedActivity = activity;\r\n\r\n      return activity;\r\n    } else {\r\n      this.loadingInitial = true;\r\n\r\n      try {\r\n        activity = await agent.Activities.details(id);\r\n\r\n        runInAction(() => {\r\n          this.setActivity(activity!);\r\n          this.selectedActivity = activity;\r\n          this.loadingInitial = false;\r\n        });\r\n\r\n        return activity;\r\n      } catch (err) {\r\n        console.log(err);\r\n        runInAction(() => {\r\n          this.loadingInitial = false;\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  createActivity = async (activity: ActivityFormValues) => {\r\n    const user = store.userStore.user;\r\n    const attendee = new Profile(user!);\r\n    try {\r\n      await agent.Activities.create(activity);\r\n      const newActivity = new Activity(activity);\r\n      newActivity.hostUserName = user!.userName;\r\n      newActivity.attendees = [attendee];\r\n      this.setActivity(newActivity);\r\n\r\n      runInAction(() => {\r\n        this.selectedActivity = newActivity;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  updateActivity = async (activity: ActivityFormValues) => {\r\n    try {\r\n      await agent.Activities.update(activity);\r\n\r\n      runInAction(() => {\r\n        if (activity.id) {\r\n          let updatedActivity = {\r\n            ...this.getActivity(activity.id),\r\n            ...activity,\r\n          };\r\n          this.activitiesRegister.set(activity.id, updatedActivity as Activity);\r\n          this.selectedActivity = updatedActivity as Activity;\r\n        }\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  deleteActivity = async (id: string) => {\r\n    this.submitting = true;\r\n\r\n    try {\r\n      await agent.Activities.delete(id);\r\n\r\n      runInAction(() => {\r\n        this.activitiesRegister.delete(id);\r\n        this.submitting = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => {\r\n        this.submitting = false;\r\n      });\r\n    }\r\n  };\r\n\r\n  updateAttendance = async () => {\r\n    const user = store.userStore.user;\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n\r\n      runInAction(() => {\r\n        if (this.selectedActivity?.isGoing) {\r\n          this.selectedActivity.attendees =\r\n            this.selectedActivity.attendees?.filter(\r\n              (a) => a.userName !== user!.userName\r\n            );\r\n          this.selectedActivity.isGoing = false;\r\n        } else {\r\n          const attendee = new Profile(user!);\r\n          this.selectedActivity?.attendees?.push(attendee);\r\n          this.selectedActivity!.isGoing = true;\r\n        }\r\n\r\n        this.activitiesRegister.set(\r\n          this.selectedActivity!.id,\r\n          this.selectedActivity!\r\n        );\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  cancelActivityToggle = async () => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n\r\n      runInAction(() => {\r\n        this.selectedActivity!.isCancelled =\r\n          !this.selectedActivity?.isCancelled;\r\n        this.activitiesRegister.set(\r\n          this.selectedActivity!.id,\r\n          this.selectedActivity!\r\n        );\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  clearSelectedActivity = () => {\r\n    this.selectedActivity = undefined;\r\n  };\r\n\r\n  updateAttendeeFollowing = (userName: string) => {\r\n    this.activitiesRegister.forEach((activity) => {\r\n      activity.attendees.forEach((attendee) => {\r\n        if (attendee.userName === userName) {\r\n          attendee.following\r\n            ? attendee.followersCount--\r\n            : attendee.followersCount++;\r\n          attendee.following = !attendee.following;\r\n        }\r\n      });\r\n    });\r\n  };\r\n}\r\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\n\r\nimport { store } from \"..\";\r\nimport agent from \"../../api/agent\";\r\nimport { Photo, Profile, UserActivity } from \"../../models/profile\";\r\n\r\nexport default class ProfileStore {\r\n  profile: Profile | null = null;\r\n  loadingProfile = false;\r\n  uploading = false;\r\n  loading = false;\r\n  followings: Profile[] = [];\r\n  loadingFollowings: boolean = false;\r\n  activeTab = 0;\r\n  userActivities: UserActivity[] = [];\r\n  loadingActivities = false;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    reaction(\r\n      () => this.activeTab,\r\n      (activeTab) => {\r\n        if (activeTab === 3 || activeTab === 4) {\r\n          const predicate = activeTab === 3 ? \"followers\" : \"following\";\r\n          this.loadFollowings(predicate);\r\n        } else {\r\n          this.followings = [];\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  setActiveTab = (activeTab: any) => (this.activeTab = activeTab);\r\n\r\n  get isCurrentUser() {\r\n    if (store.userStore.user && this.profile) {\r\n      return store.userStore.user.userName === this.profile.userName;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  loadProfile = async (userName: string) => {\r\n    this.loadingProfile = true;\r\n\r\n    try {\r\n      const profile = await agent.Profiles.get(userName);\r\n      runInAction(() => {\r\n        this.profile = profile;\r\n        this.loadingProfile = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loadingProfile = false));\r\n    }\r\n  };\r\n\r\n  uploadPhoto = async (file: Blob) => {\r\n    this.uploading = true;\r\n\r\n    try {\r\n      const response = await agent.Profiles.uploadPhoto(file);\r\n      const photo = response.data;\r\n      runInAction(() => {\r\n        if (this.profile) {\r\n          this.profile.photos?.push(photo);\r\n          if (photo.isMain && store.userStore.user) {\r\n            store.userStore.setImage(photo.url);\r\n            this.profile.image = photo.url;\r\n          }\r\n        }\r\n        this.uploading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.uploading = false));\r\n    }\r\n  };\r\n\r\n  setMainPhoto = async (photo: Photo) => {\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Profiles.setMainPhoto(photo.id);\r\n      store.userStore.setImage(photo.url);\r\n      runInAction(() => {\r\n        if (this.profile && this.profile.photos) {\r\n          this.profile.photos.find((p) => p.isMain)!.isMain = false;\r\n          this.profile.photos.find((p) => p.id === photo.id)!.isMain = true;\r\n          this.profile.image = photo.url;\r\n        }\r\n        this.loading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  deletePhoto = async (photo: Photo) => {\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Profiles.deletePhoto(photo.id);\r\n      runInAction(() => {\r\n        if (this.profile && this.profile.photos) {\r\n          this.profile.photos = this.profile.photos.filter(\r\n            (p) => p.id !== photo.id\r\n          );\r\n        }\r\n        this.loading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  updateProfile = async (profile: Partial<Profile>) => {\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Profiles.updateProfile(profile);\r\n      runInAction(() => {\r\n        if (\r\n          profile.displayName &&\r\n          profile.displayName !== store.userStore.user?.displayName\r\n        ) {\r\n          store.userStore.setDisplayName(profile.displayName);\r\n        }\r\n        this.profile = { ...this.profile, ...(profile as Profile) };\r\n        this.loading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  updateFollowing = async (userName: string, following: boolean) => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Profiles.updateFollowing(userName);\r\n      store.activityStore.updateAttendeeFollowing(userName);\r\n      runInAction(() => {\r\n        if (\r\n          this.profile &&\r\n          this.profile.userName !== store.userStore.user?.userName &&\r\n          this.profile.userName === userName\r\n        ) {\r\n          following\r\n            ? this.profile.followersCount++\r\n            : this.profile.followersCount--;\r\n          this.profile.following = !this.profile.following;\r\n        }\r\n        if (\r\n          this.profile &&\r\n          this.profile.userName === store.userStore.user?.userName\r\n        ) {\r\n          following\r\n            ? this.profile.followingCount++\r\n            : this.profile.followingCount--;\r\n        }\r\n        this.followings.forEach((profile) => {\r\n          if (profile.userName === userName) {\r\n            profile.following\r\n              ? profile.followersCount--\r\n              : profile.followersCount++;\r\n            profile.following = !profile.following;\r\n          }\r\n        });\r\n        this.loading = false;\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  loadFollowings = async (predicate: string) => {\r\n    this.loadingFollowings = true;\r\n\r\n    try {\r\n      const followings = await agent.Profiles.listFollowings(\r\n        this.profile!.userName,\r\n        predicate\r\n      );\r\n      runInAction(() => {\r\n        this.followings = followings;\r\n        this.loadingFollowings = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loadingFollowings = false));\r\n    }\r\n  };\r\n\r\n  loadUserActivities = async (userName: string, predicate?: string) => {\r\n    this.loadingActivities = true;\r\n\r\n    try {\r\n      const activities = await agent.Profiles.listActivities(\r\n        userName,\r\n        predicate!\r\n      );\r\n\r\n      runInAction(() => {\r\n        this.userActivities = activities;\r\n        this.loadingActivities = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loadingActivities = false));\r\n    }\r\n  };\r\n}\r\n","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { store } from \"..\";\r\nimport { history } from \"../../..\";\r\nimport agent from \"../../api/agent\";\r\n\r\nimport { User, UserFormValues } from \"../../models/user\";\r\n\r\nexport default class UserStore {\r\n  user: User | null = null;\r\n  fbAccessToken: string | null = null;\r\n  fbLoading = false;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  get isLoggedIn() {\r\n    return !!this.user;\r\n  }\r\n\r\n  login = async (credentials: UserFormValues) => {\r\n    try {\r\n      const user = await agent.Account.login(credentials);\r\n      store.commonStore.setToken(user.token);\r\n\r\n      runInAction(() => (this.user = user));\r\n      history.push(\"/activities\");\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  logout = () => {\r\n    store.commonStore.setToken(null);\r\n    localStorage.removeItem(\"Reactivities:Token\");\r\n    this.user = null;\r\n    history.push(\"/\");\r\n  };\r\n\r\n  getUser = async () => {\r\n    try {\r\n      const user = await agent.Account.current();\r\n\r\n      runInAction(() => (this.user = user));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  register = async (credentials: UserFormValues) => {\r\n    try {\r\n      const user = await agent.Account.register(credentials);\r\n      store.commonStore.setToken(user.token);\r\n\r\n      runInAction(() => (this.user = user));\r\n      history.push(\"/activities\");\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  setImage = (image: string) => {\r\n    if (this.user) this.user.image = image;\r\n  };\r\n\r\n  setDisplayName = (name: string) => {\r\n    if (this.user) this.user.displayName = name;\r\n  };\r\n\r\n  getFacebookLoginStatus = async () => {\r\n    window.FB.getLoginStatus((response) => {\r\n      if (response.status === \"connected\") {\r\n        this.fbAccessToken = response.authResponse.accessToken;\r\n      }\r\n    });\r\n  };\r\n\r\n  facebookLogin = () => {\r\n    this.fbLoading = true;\r\n\r\n    const apiLogin = (accessToken: string) => {\r\n      return agent.Account.fbLogin(accessToken)\r\n        .then((user) => {\r\n          store.commonStore.setToken(user.token);\r\n          runInAction(() => {\r\n            this.user = user;\r\n            this.fbLoading = false;\r\n          });\r\n          history.push(\"/activities\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          runInAction(() => {\r\n            this.fbLoading = false;\r\n          });\r\n        });\r\n    };\r\n\r\n    if (this.fbAccessToken) {\r\n      apiLogin(this.fbAccessToken);\r\n    } else {\r\n      window.FB.login(\r\n        (response) => {\r\n          apiLogin(response.authResponse.accessToken);\r\n        },\r\n        { scope: \"public_profile,email\" }\r\n      );\r\n    }\r\n  };\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nimport ActivityStore from \"./context/activity\";\r\nimport CommentStore from \"./context/comment\";\r\nimport CommonStore from \"./context/common\";\r\nimport ProfileStore from \"./context/profile\";\r\nimport UserStore from \"./context/user\";\r\n\r\ninterface Store {\r\n  activityStore: ActivityStore;\r\n  commonStore: CommonStore;\r\n  userStore: UserStore;\r\n  profileStore: ProfileStore;\r\n  commentStore: CommentStore;\r\n}\r\n\r\nexport const store: Store = {\r\n  activityStore: new ActivityStore(),\r\n  commonStore: new CommonStore(),\r\n  userStore: new UserStore(),\r\n  profileStore: new ProfileStore(),\r\n  commentStore: new CommentStore(),\r\n};\r\n\r\nexport const StoreContext = createContext(store);\r\n\r\nexport const StoreProvider = ({ children }: any) => {\r\n  return (\r\n    <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n  );\r\n};\r\n","import { makeAutoObservable, reaction } from \"mobx\";\r\n\r\nimport { ServerError } from \"../../models/serverError\";\r\n\r\nexport default class CommonStore {\r\n  error: ServerError | null = null;\r\n  token: string | null = localStorage.getItem(\"Reactivities:Token\");\r\n  appLoaded = false;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    reaction(\r\n      () => this.token,\r\n      (token) => {\r\n        if (token) {\r\n          localStorage.setItem(\"Reactivities:Token\", token);\r\n        } else {\r\n          localStorage.removeItem(\"Reactivities:Token\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  setServerError = (error: ServerError) => {\r\n    this.error = error;\r\n  };\r\n\r\n  setToken = (token: string | null) => {\r\n    this.token = token;\r\n  };\r\n\r\n  setAppLoaded = () => {\r\n    this.appLoaded = true;\r\n  };\r\n}\r\n","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport {\r\n  HubConnection,\r\n  HubConnectionBuilder,\r\n  LogLevel,\r\n} from \"@microsoft/signalr\";\r\n\r\nimport { ChatComment } from \"../../models/comment\";\r\nimport { store } from \"..\";\r\n\r\nexport default class CommentStore {\r\n  comments: ChatComment[] = [];\r\n  hubConnection: HubConnection | null = null;\r\n\r\n  constructor() {\r\n      makeAutoObservable(this);\r\n  }\r\n\r\n  createHubConnection = (activityId: string) => {\r\n      if (store.activityStore.selectedActivity) {\r\n          this.hubConnection = new HubConnectionBuilder()\r\n              .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\r\n                  accessTokenFactory: () => store.userStore.user?.token!\r\n              })\r\n              .withAutomaticReconnect()\r\n              .configureLogging(LogLevel.Information)\r\n              .build();\r\n\r\n          this.hubConnection.start().catch(error => console.log('Error establishing the connection: ', error));\r\n\r\n          this.hubConnection.on('LoadComments', (comments: ChatComment[]) => {\r\n              runInAction(() => {\r\n                  comments.forEach(comment => {\r\n                      comment.createdAt = new Date(comment.createdAt);\r\n                  })\r\n                  this.comments = comments\r\n              });\r\n          })\r\n\r\n          this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\r\n              runInAction(() => {\r\n                  comment.createdAt = new Date(comment.createdAt);\r\n                  this.comments.unshift(comment)\r\n              });\r\n          })\r\n      }\r\n  }\r\n\r\n  stopHubConnection = () => {\r\n      this.hubConnection?.stop().catch(error => console.log('Error stopping connection: ', error));\r\n  }\r\n\r\n  clearComments = () => {\r\n      this.comments = [];\r\n      this.stopHubConnection();\r\n  }\r\n\r\n  addComment = async (values: any) => {\r\n      values.activityId = store.activityStore.selectedActivity?.id;\r\n      try {\r\n          await this.hubConnection?.invoke('SendComment', values);\r\n      } catch (error) {\r\n          console.log(error);\r\n      }\r\n  }\r\n}","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { useContext } from \"react\";\r\n\r\nimport { StoreContext } from \".\";\r\n\r\nexport default function useStore() {\r\n  return useContext(StoreContext);\r\n}\r\n","import { Redirect, Route, RouteComponentProps, RouteProps } from \"react-router-dom\";\r\n\r\nimport useStore from \"../stores/useStore\";\r\n\r\ninterface Props extends RouteProps {\r\n    component: React.ComponentType<RouteComponentProps<any>> | React.ComponentType<any>;\r\n}\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}: Props) {\r\n    const {userStore: {isLoggedIn}} = useStore();\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render={(props) => isLoggedIn ? <Component {...props} /> : <Redirect to='/' />}\r\n        />\r\n    )\r\n}","import { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\ninterface LoadingProp {\r\n  inverted?: boolean;\r\n  content?: string;\r\n}\r\n\r\nexport default function Loading({\r\n  inverted = true,\r\n  content = \"Loading...\",\r\n}: LoadingProp) {\r\n  return (\r\n    <Dimmer active={true} inverted={inverted}>\r\n      <Loader content={content} />\r\n    </Dimmer>\r\n  );\r\n}\r\n","import { Segment, Button, Placeholder } from \"semantic-ui-react\";\r\n\r\nexport default function ActivityListItemPlaceholder() {\r\n  return (\r\n    <>\r\n      <Placeholder fluid style={{ marginTop: 25 }}>\r\n        <Segment.Group>\r\n          <Segment style={{ minHeight: 110 }}>\r\n            <Placeholder>\r\n              <Placeholder.Header image>\r\n                <Placeholder.Line />\r\n                <Placeholder.Line />\r\n              </Placeholder.Header>\r\n              <Placeholder.Paragraph>\r\n                <Placeholder.Line />\r\n              </Placeholder.Paragraph>\r\n            </Placeholder>\r\n          </Segment>\r\n          <Segment>\r\n            <Placeholder>\r\n              <Placeholder.Line />\r\n              <Placeholder.Line />\r\n            </Placeholder>\r\n          </Segment>\r\n          <Segment secondary style={{ minHeight: 70 }} />\r\n          <Segment clearing>\r\n            <Button disabled color=\"blue\" floated=\"right\" content=\"View\" />\r\n          </Segment>\r\n        </Segment.Group>\r\n      </Placeholder>\r\n    </>\r\n  );\r\n}\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Button, Reveal } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../../../app/stores/useStore\";\r\nimport { Profile } from \"../../../../app/models/profile\";\r\nimport { SyntheticEvent } from \"react\";\r\n\r\ninterface FollowButtonProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function FollowButton({ profile }: FollowButtonProps) {\r\n  const { profileStore, userStore } = useStore();\r\n  const { updateFollowing, loading } = profileStore;\r\n  const { user } = userStore;\r\n\r\n  if (user?.userName === profile.userName) return null;\r\n\r\n  function handleFollow(e: SyntheticEvent, userName: string) {\r\n    e.preventDefault();\r\n    profile.following\r\n      ? updateFollowing(userName, false)\r\n      : updateFollowing(userName, true);\r\n  }\r\n\r\n  return (\r\n    <Reveal animated=\"move\">\r\n      <Reveal.Content visible style={{ width: \"100%\" }}>\r\n        <Button\r\n          fluid\r\n          color=\"teal\"\r\n          content={profile.following ? \"Following\" : \"Not following\"}\r\n        />\r\n      </Reveal.Content>\r\n      <Reveal.Content hidden style={{ width: \"100%\" }}>\r\n        <Button\r\n          fluid\r\n          basic\r\n          color={profile.following ? \"red\" : \"green\"}\r\n          content={profile.following ? \"Unfollow\" : \"Follow\"}\r\n          loading={loading}\r\n          onClick={(e) => handleFollow(e, profile.userName)}\r\n        />\r\n      </Reveal.Content>\r\n    </Reveal>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Icon, Image } from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../app/models/profile\";\r\nimport FollowButton from \"../ProfileHeader/FollowButton\";\r\n\r\ninterface ProfileCardProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfileCard({ profile }: ProfileCardProps) {\r\n  function truncate(str: string | undefined) {\r\n    if (str) return str.length > 40 ? str.slice(0, 37) + \"...\" : str;\r\n  }\r\n\r\n  return (\r\n    <Card as={Link} to={`/profiles/${profile.userName}`}>\r\n      <Image src={profile.image || \"/assets/user.png\"} alt={profile.userName} />\r\n      <Card.Content>\r\n        <Card.Header>{profile.displayName}</Card.Header>\r\n        <Card.Description>{truncate(profile.bio)}</Card.Description>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <Icon name=\"user\" />\r\n        {profile.followersCount} followers\r\n      </Card.Content>\r\n      <FollowButton {...{ profile }} />\r\n    </Card>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Image, List, Popup } from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../../../app/models/profile\";\r\n\r\nimport ProfileCard from \"../../../../profiles/ProfileCard\";\r\n\r\ninterface AttendeesListProps {\r\n  attendees: Profile[];\r\n}\r\n\r\nexport default observer(function AttendeesList({\r\n  attendees,\r\n}: AttendeesListProps) {\r\n  const styles = {\r\n    borderColor: \"orange\",\r\n    borderWidth: 2,\r\n  };\r\n\r\n  return (\r\n    <List horizontal>\r\n      {attendees.map((attendee) => (\r\n        <Popup\r\n          hoverable\r\n          key={attendee.userName}\r\n          trigger={\r\n            <List.Item as={Link} to={`/profiles/${attendee.userName}`}>\r\n              <Image\r\n                size=\"mini\"\r\n                circular\r\n                src={attendee.image || \"/assets/user.png\"}\r\n                bordered\r\n                style={attendee.following ? styles : null}\r\n              />\r\n            </List.Item>\r\n          }\r\n        >\r\n          <Popup.Content>\r\n            <ProfileCard profile={attendee} />\r\n          </Popup.Content>\r\n        </Popup>\r\n      ))}\r\n    </List>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nimport { Situations } from \".\";\r\n\r\ninterface ContainerProps {\r\n  situation: Situations;\r\n}\r\n\r\nconst colors = {\r\n  master: \"#f1651e\",\r\n  positive: \"#4EAC4D\",\r\n  negative: \"#f94d6a\",\r\n  none: \"#DBDCE1\",\r\n  default: \"#03aba4\",\r\n};\r\n\r\nexport const Container = styled.button<ContainerProps>`\r\n  border: 0;\r\n  padding: 0.6rem 1.4rem;\r\n  border-radius: 0.5rem;\r\n  font-size: 1.4rem;\r\n  background-color: ${(props) => colors[props.situation]};\r\n  color: ${(props) => (props.situation === \"none\" ? \"#2c2c2c\" : \"#fff\")};\r\n  font-weight: 500;\r\n\r\n  transition: filter 0.2s;\r\n\r\n  &:hover {\r\n    filter: brightness(0.9);\r\n  }\r\n\r\n  &:disabled {\r\n    filter: brightness(0.85);\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n`;\r\n","import { ButtonHTMLAttributes, ReactNode } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport type Situations =\r\n  | \"master\"\r\n  | \"positive\"\r\n  | \"negative\"\r\n  | \"none\"\r\n  | \"default\";\r\n\r\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  children: ReactNode;\r\n  situation: Situations;\r\n  loading?: boolean;\r\n};\r\n\r\nexport default function Button({\r\n  children,\r\n  situation = \"default\",\r\n  loading = false,\r\n  ...props\r\n}: ButtonProps) {\r\n  return (\r\n    <Container {...{ situation }} {...props}>\r\n      {loading ? (\r\n        <Loader type=\"Oval\" height={16} width={50} color=\"#fff\" />\r\n      ) : (\r\n        children\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 0.8rem;\r\n  background-color: #fff;\r\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\r\n    rgba(0, 0, 0, 0.1) 0px 0px 0px 2px;\r\n\r\n  .ui[class*=\"top attached\"].label {\r\n    position: inherit !important;\r\n    border-radius: inherit;\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n\r\n  header {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 2rem;\r\n    border-bottom: 2px solid #f2f1f2;\r\n\r\n    div.left-side {\r\n      img {\r\n        border-radius: 40px;\r\n        width: 80px;\r\n        height: 80px;\r\n      }\r\n    }\r\n\r\n    div.rest-side {\r\n      flex: 1;\r\n\r\n      h3 {\r\n        margin-bottom: 0.6rem;\r\n        font-size: 1.8rem;\r\n        font-weight: bold;\r\n      }\r\n\r\n      span {\r\n        font-size: 1.5rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  div.content {\r\n    div.local {\r\n      padding: 1rem;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 2rem;\r\n\r\n      span {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        font-weight: 500;\r\n\r\n        svg {\r\n          margin-right: 0.6rem;\r\n        }\r\n      }\r\n    }\r\n\r\n    div.attendees {\r\n      padding: 1rem 1rem;\r\n      background-color: #f2f1f2;\r\n      color: #7c787a;\r\n    }\r\n  }\r\n\r\n  div.footer {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    span.venue {\r\n      padding: 1rem;\r\n      border-radius: 1rem;\r\n      background-color: #fff;\r\n      border: 2px solid #e6e6e6;\r\n      font-size: 1.2rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    div.options {\r\n      margin-left: auto;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 1rem;\r\n    }\r\n  }\r\n`;\r\n","import { SyntheticEvent, useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { FiClock, FiMapPin } from \"react-icons/fi\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport AttendeesList from \"./AttendeesList\";\r\nimport Button from \"../../../../app/components/Button\";\r\n\r\nimport { Activity } from \"../../../../app/models/activity\";\r\nimport useStore from \"../../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Item, Label } from \"semantic-ui-react\";\r\n\r\ninterface ActivityItemProps {\r\n  activity: Activity;\r\n}\r\n\r\nfunction ActivityItem({ activity }: ActivityItemProps) {\r\n  const { activityStore } = useStore();\r\n  const { deleteActivity, submitting } = activityStore;\r\n\r\n  const [target, setTarge] = useState(\"\");\r\n\r\n  function handleDeleteActivity(\r\n    e: SyntheticEvent<HTMLButtonElement>,\r\n    id: string\r\n  ) {\r\n    setTarge(e.currentTarget.name);\r\n    deleteActivity(id);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {activity.isCancelled && (\r\n        <Label\r\n          attached=\"top\"\r\n          color=\"red\"\r\n          content=\"Cancelled\"\r\n          style={{\r\n            textAlign: \"center\",\r\n          }}\r\n        />\r\n      )}\r\n      <header>\r\n        <div className=\"left-side\">\r\n          <img src={activity.host?.image || \"/assets/user.png\"} alt=\"User\" />\r\n        </div>\r\n        <div className=\"rest-side\">\r\n          <h3>{activity.title}</h3>\r\n          <span>\r\n            Hosted by{\" \"}\r\n            <Link to={`/profiles/${activity.host?.userName}`}>\r\n              {activity.host?.displayName}\r\n            </Link>\r\n          </span>\r\n        </div>\r\n        {activity.isHost && (\r\n          <Item.Description>\r\n            <Label basic color=\"orange\">\r\n              You are hosting this activity\r\n            </Label>\r\n          </Item.Description>\r\n        )}\r\n        {activity.isGoing && !activity.isHost && (\r\n          <Item.Description>\r\n            <Label basic color=\"green\">\r\n              You are going to this activity\r\n            </Label>\r\n          </Item.Description>\r\n        )}\r\n      </header>\r\n\r\n      <div className=\"content\">\r\n        <div className=\"local\">\r\n          <span className=\"date\">\r\n            <FiClock />\r\n            {format(activity.date!, \"dd MMM yyyy h:mm aa\")}\r\n          </span>\r\n          <span className=\"city\">\r\n            <FiMapPin />\r\n            {activity.city}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"attendees\">\r\n          <AttendeesList attendees={activity.attendees!} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <span className=\"venue\">{activity.venue}</span>\r\n\r\n        <div className=\"options\">\r\n          <Button\r\n            name={activity.id}\r\n            situation=\"negative\"\r\n            onClick={(event) => handleDeleteActivity(event, activity.id)}\r\n            loading={target === activity.id && submitting}\r\n          >\r\n            Delete\r\n          </Button>\r\n          <Link to={`/activities/${activity.id}`}>\r\n            <Button situation=\"default\">View</Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default observer(ActivityItem);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n\r\n  & + div {\r\n    margin-top: 2rem;\r\n  }\r\n\r\n  h3.group {\r\n    color: #03aba4;\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport ActivityItem from \"./ActivityItem\";\r\n\r\nimport { Container, Content } from \"./styles\";\r\n\r\nexport default observer(function ActivityList() {\r\n  const { activityStore } = useStore();\r\n  const { groupedActivities } = activityStore;\r\n\r\n  return (\r\n    <Container>\r\n      {groupedActivities.map(([group, activities]) => (\r\n        <Content key={group}>\r\n          <h3 className=\"group\">{group}</h3>\r\n\r\n          {activities.map((activity) => (\r\n            <ActivityItem\r\n              {...{\r\n                key: activity.id,\r\n                activity,\r\n              }}\r\n            />\r\n          ))}\r\n        </Content>\r\n      ))}\r\n    </Container>\r\n  );\r\n});\r\n","import { shade } from \"polished\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface FilterProps {\r\n  activated?: boolean;\r\n}\r\n\r\nexport const Container = styled.div`\r\n  grid-area: activityFilters;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n  margin-top: 3rem;\r\n\r\n  div.content {\r\n    height: fit-content;\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 0.8rem;\r\n    background-color: #fff;\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n\r\n    header {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      gap: 1rem;\r\n      padding: 1rem;\r\n      color: #03aba4;\r\n      font-weight: 500;\r\n\r\n      svg {\r\n        color: #03aba4;\r\n      }\r\n    }\r\n\r\n    div.container-filters {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Filter = styled.div<FilterProps>`\r\n  cursor: pointer;\r\n  padding: 1rem;\r\n  border-top: 1px solid rgb(0, 0, 0, 0.15);\r\n\r\n  transition: background-color 0.2s;\r\n\r\n  background-color: ${(props) =>\r\n    props.activated ? shade(0.05, \"#fff\") : \"#fff\"};\r\n\r\n  &:hover {\r\n    background-color: ${shade(0.05, \"#fff\")};\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport Calendar from \"react-calendar\";\r\nimport { FiFilter } from \"react-icons/fi\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container, Filter } from \"./styles\";\r\n\r\nexport default observer(function ActivityFilters() {\r\n  const { activityStore } = useStore();\r\n  const { predicate, setPredicate } = activityStore;\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"content\">\r\n        <header>\r\n          <FiFilter /> Filters\r\n        </header>\r\n\r\n        <div className=\"container-filters\">\r\n          <Filter\r\n            activated={!!predicate.has(\"all\")}\r\n            onClick={() => setPredicate(\"all\", \"true\")}\r\n          >\r\n            All activities\r\n          </Filter>\r\n          <Filter\r\n            activated={predicate.has(\"isGoing\")}\r\n            onClick={() => setPredicate(\"isGoing\", \"true\")}\r\n          >\r\n            I'm going\r\n          </Filter>\r\n          <Filter\r\n            activated={predicate.has(\"isHost\")}\r\n            onClick={() => setPredicate(\"isHost\", \"true\")}\r\n          >\r\n            I'm hosting\r\n          </Filter>\r\n        </div>\r\n      </div>\r\n\r\n      <Calendar\r\n        onChange={(date: any) => setPredicate(\"startDate\", date)}\r\n        value={predicate.get(\"startDate\") || new Date()}\r\n      />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 350px;\r\n  grid-template-areas: \"activityList activityFilters\";\r\n  gap: 3rem;\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { Loader } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../app/stores/useStore\";\r\nimport { PagingParams } from \"../../app/models/pagination\";\r\n\r\nimport ActivityListItemPlaceholder from \"./ActivityListItemPlaceholder\";\r\nimport ActivityList from \"./ActivityList\";\r\nimport ActivityFilters from \"./ActivityFilters\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default observer(function ActivityDashboard() {\r\n  const { activityStore } = useStore();\r\n  const {\r\n    loadActivities,\r\n    loadingInitial,\r\n    activitiesRegister,\r\n    setPagingParams,\r\n    pagination,\r\n  } = activityStore;\r\n\r\n  const [loadingNext, setLoadingNext] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (activitiesRegister.size <= 1) loadActivities();\r\n  }, [loadActivities, activitiesRegister.size]);\r\n\r\n  function handleGetNext() {\r\n    setLoadingNext(true);\r\n    setPagingParams(new PagingParams(pagination!.currentPage + 1));\r\n    loadActivities().then(() => setLoadingNext(false));\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loadingInitial && !loadingNext ? (\r\n        <div\r\n          style={{\r\n            gridArea: \"activityList\",\r\n          }}\r\n        >\r\n          <ActivityListItemPlaceholder />\r\n          <ActivityListItemPlaceholder />\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            gridArea: \"activityList\",\r\n          }}\r\n        >\r\n          <InfiniteScroll\r\n            pageStart={0}\r\n            loadMore={handleGetNext}\r\n            hasMore={\r\n              !loadingNext &&\r\n              !!pagination &&\r\n              pagination.currentPage < pagination.totalPages\r\n            }\r\n            initialLoad={false}\r\n          >\r\n            <ActivityList />\r\n          </InfiniteScroll>\r\n\r\n          <Loader active={loadingNext && !loadingInitial} />\r\n        </div>\r\n      )}\r\n\r\n      <ActivityFilters />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { InputHTMLAttributes } from \"react\";\r\nimport { useField } from \"formik\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  name: string;\r\n  placeholder: string;\r\n  label?: string;\r\n}\r\n\r\nexport default function Input({ type = \"text\", ...props }: InputProps) {\r\n  const [field, meta] = useField(props.name);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <label htmlFor=\"\">{props.label}</label>\r\n      <input {...field} {...props} {...{ type }} />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  textarea {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { TextareaHTMLAttributes } from \"react\";\r\nimport { useField } from \"formik\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\r\n  name: string;\r\n  placeholder: string;\r\n  label?: string;\r\n}\r\n\r\nexport default function Textarea(props: TextareaProps) {\r\n  const [field, meta] = useField(props.name);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <label htmlFor=\"\">{props.label}</label>\r\n      <textarea {...field} {...props} />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { InputHTMLAttributes } from \"react\";\r\nimport { Select } from \"semantic-ui-react\";\r\nimport { useField } from \"formik\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface SelectInputProps extends InputHTMLAttributes<HTMLSelectElement> {\r\n  name: string;\r\n  placeholder: string;\r\n  options: any;\r\n  label?: string;\r\n}\r\n\r\nexport default function SelectInput(props: SelectInputProps) {\r\n  const [field, meta, helpers] = useField(props.name);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <label htmlFor=\"\">{props.label}</label>\r\n      <Select\r\n        clearable\r\n        options={props.options}\r\n        value={field.value || null}\r\n        onChange={(e, d) => helpers.setValue(d.value)}\r\n        onBlur={() => helpers.setTouched(true)}\r\n        placeholder={props.placeholder}\r\n      />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","export const category = [\r\n  { text: \"Drinks\", value: \"drinks\" },\r\n  { text: \"Culture\", value: \"culture\" },\r\n  { text: \"Film\", value: \"film\" },\r\n  { text: \"Music\", value: \"music\" },\r\n  { text: \"Travel\", value: \"travel\" },\r\n];\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { useField } from \"formik\";\r\nimport DatePicker, { ReactDatePickerProps } from \"react-datepicker\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default function DateInput(props: Partial<ReactDatePickerProps>) {\r\n  const [field, meta, helpers] = useField(props.name!);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <DatePicker\r\n        {...field}\r\n        {...props}\r\n        selected={(field.value && new Date(field.value)) || null}\r\n        onChange={(date: Date) => helpers.setValue(date)}\r\n      />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: activityForm;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: fit-content;\r\n  background-color: #fff;\r\n  border-radius: 0.8rem;\r\n  padding: 1.4rem;\r\n\r\n  h2 {\r\n    font-size: 1.4rem;\r\n    color: #03aba4;\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  div.content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n\r\n  div.footer {\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport { ActivityFormValues } from \"../../../app/models/activity\";\r\n\r\nimport Input from \"../../../app/components/Input\";\r\nimport Button from \"../../../app/components/Button\";\r\nimport Loading from \"../../../app/components/Loading\";\r\nimport Textarea from \"../../../app/components/Textarea\";\r\nimport SelectInput from \"../../../app/components/SelectInput\";\r\nimport { category } from \"../../../app/components/SelectInput/Options/category\";\r\nimport DateInput from \"../../../app/components/DateInput\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ActivityFormParams {\r\n  id: string;\r\n}\r\n\r\nconst validationSchema = Yup.object({\r\n  title: Yup.string().required(\"Title is required\"),\r\n  category: Yup.string().required(\"Category is required\"),\r\n  description: Yup.string().required(\"Description is required\"),\r\n  date: Yup.string().required(\"Date is required\").nullable(),\r\n  city: Yup.string().required(\"City is required\"),\r\n  venue: Yup.string().required(\"Venue is required\"),\r\n});\r\n\r\nexport default observer(function ActivityForm() {\r\n  const { activityStore } = useStore();\r\n  const { createActivity, updateActivity, loadActivity, loadingInitial } =\r\n    activityStore;\r\n  const history = useHistory();\r\n  const { id } = useParams<ActivityFormParams>();\r\n  const [activity, setActivity] = useState<ActivityFormValues>(\r\n    new ActivityFormValues()\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      loadActivity(id).then((activity) => {\r\n        setActivity(new ActivityFormValues(activity));\r\n      });\r\n    }\r\n  }, [id, loadActivity]);\r\n\r\n  function handleFormSubmit(data: ActivityFormValues) {\r\n    if (!data.id) {\r\n      let newActivity = {\r\n        ...data,\r\n        id: uuid(),\r\n      };\r\n\r\n      createActivity(newActivity).then(() => {\r\n        history.push(`/activities/${newActivity.id}`);\r\n      });\r\n    } else {\r\n      updateActivity({\r\n        ...data,\r\n        id: activity.id,\r\n      }).then(() => {\r\n        history.push(`/activities/${activity.id}`);\r\n      });\r\n    }\r\n  }\r\n\r\n  if (loadingInitial) return <Loading content=\"Loading activity on form...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Activity details</h2>\r\n\r\n      <Formik\r\n        validationSchema={validationSchema}\r\n        enableReinitialize\r\n        initialValues={activity}\r\n        onSubmit={handleFormSubmit}\r\n      >\r\n        {({ handleSubmit, isValid, isSubmitting, dirty }) => (\r\n          <Form onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <div className=\"content\">\r\n              <Input name=\"title\" placeholder=\"Title\" />\r\n              <Textarea\r\n                name=\"description\"\r\n                placeholder=\"Description\"\r\n                cols={3}\r\n                rows={4}\r\n              />\r\n              <SelectInput\r\n                options={category}\r\n                name=\"category\"\r\n                placeholder=\"Category\"\r\n              />\r\n              <DateInput\r\n                name=\"date\"\r\n                placeholderText=\"Date\"\r\n                showTimeSelect\r\n                timeCaption=\"time\"\r\n                dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n              />\r\n\r\n              <h2>Location details</h2>\r\n              <Input name=\"city\" placeholder=\"City\" />\r\n              <Input name=\"venue\" placeholder=\"Venue\" />\r\n            </div>\r\n\r\n            <div className=\"footer\">\r\n              <Button\r\n                type=\"submit\"\r\n                situation=\"positive\"\r\n                loading={isSubmitting}\r\n                disabled={!isValid || !dirty || isSubmitting}\r\n              >\r\n                Submit\r\n              </Button>\r\n              <Link to=\"/activities\">\r\n                <Button type=\"button\" situation=\"none\">\r\n                  Cancel\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: chat;\r\n  margin-bottom: 2rem;\r\n\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\r\n\r\n  header {\r\n    padding: 1rem;\r\n    border-top-left-radius: 0.8rem;\r\n    border-top-right-radius: 0.8rem;\r\n    background-color: #03aba4;\r\n    text-align: center;\r\n    color: #fff;\r\n    font-size: 1.4rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  div.sub-container {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: #fff;\r\n    gap: 2rem;\r\n\r\n    div.chat-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 2rem;\r\n\r\n      div.message-container {\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 1.4rem;\r\n\r\n        img {\r\n          height: 38px;\r\n        }\r\n\r\n        div.rest-side {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 0.6rem;\r\n\r\n          div.header-message {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            gap: 1rem;\r\n\r\n            h3 {\r\n              font-size: 1.4rem;\r\n              font-weight: 600;\r\n            }\r\n\r\n            span {\r\n              font-size: 1.2rem;\r\n              color: #bebebe;\r\n            }\r\n          }\r\n\r\n          div.message {\r\n            font-size: 1.4rem;\r\n            white-space: pre-wrap;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    form.ui.form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 1rem;\r\n\r\n      button[type=\"submit\"] {\r\n        margin-left: auto;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport { Field, FieldProps, Form, Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport useStore from \"../../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ChatProps {\r\n  activityId: string;\r\n}\r\n\r\nconst schema = Yup.object({\r\n  body: Yup.string().required(),\r\n});\r\n\r\nexport default observer(function Chat({ activityId }: ChatProps) {\r\n  const { commentStore } = useStore();\r\n  const { createHubConnection, clearComments, comments, addComment } =\r\n    commentStore;\r\n\r\n  useEffect(() => {\r\n    if (activityId) {\r\n      createHubConnection(activityId);\r\n    }\r\n\r\n    return () => {\r\n      clearComments();\r\n    };\r\n  }, [activityId, createHubConnection, clearComments]);\r\n\r\n  return (\r\n    <Container>\r\n      <header>Chat about this event</header>\r\n\r\n      <div className=\"sub-container\">\r\n        <Formik\r\n          onSubmit={(values, { resetForm }) =>\r\n            addComment(values).then(() => resetForm())\r\n          }\r\n          initialValues={{ body: \"\" }}\r\n          validationSchema={schema}\r\n        >\r\n          {({ isSubmitting, isValid, handleSubmit }) => (\r\n            <Form className=\"ui form\">\r\n              <Field name=\"body\">\r\n                {(props: FieldProps) => (\r\n                  <div\r\n                    style={{\r\n                      position: \"relative\",\r\n                    }}\r\n                  >\r\n                    <Loader active={isSubmitting} />\r\n                    <textarea\r\n                      placeholder=\"Enter your comment (Enter submit, SHIFT + enter for new line)\"\r\n                      rows={2}\r\n                      {...props.field}\r\n                      onKeyPress={(e) => {\r\n                        if (e.key === \"Enter\" && e.shiftKey) {\r\n                          e.preventDefault();\r\n                          props.form.setFieldValue(\r\n                            \"body\",\r\n                            props.field.value + \"\\n\"\r\n                          );\r\n                        }\r\n\r\n                        if (e.key === \"Enter\" && !e.shiftKey) {\r\n                          e.preventDefault();\r\n                          isValid && handleSubmit();\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n\r\n        <div className=\"chat-container\">\r\n          {comments.map((comment) => (\r\n            <div className=\"message-container\" key={comment.id}>\r\n              <img\r\n                src={comment.image || \"/assets/user.png\"}\r\n                alt={comment.userName}\r\n              />\r\n              <div className=\"rest-side\">\r\n                <div className=\"header-message\">\r\n                  <Link to={`/profiles/${comment.userName}`}>\r\n                    <h3>{comment.displayName}</h3>\r\n                  </Link>\r\n                  <span>{formatDistanceToNow(comment.createdAt)} ago</span>\r\n                </div>\r\n                <div className=\"message\">{comment.body}</div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: header;\r\n\r\n  div.content {\r\n    position: relative;\r\n    margin-bottom: -0.3rem;\r\n\r\n    img {\r\n      width: 100%;\r\n      filter: brightness(0.4);\r\n    }\r\n\r\n    div.hover-image {\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      margin: 0 auto;\r\n      max-width: 80%;\r\n      width: 100%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      color: #fff;\r\n      padding-bottom: 4rem;\r\n\r\n      h1 {\r\n        margin-bottom: 0;\r\n      }\r\n\r\n      span {\r\n        color: #f1f1f1;\r\n        font-size: 1.4rem;\r\n      }\r\n\r\n      span.hostedBy {\r\n        margin-top: 1rem;\r\n\r\n        a {\r\n          color: #fff;\r\n          font-weight: 500;\r\n\r\n          transition: filter 0.2s;\r\n\r\n          &:hover {\r\n            filter: brightness(0.8);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  div.footer {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    background-color: #fff;\r\n    border-bottom-left-radius: 0.8rem;\r\n    border-bottom-right-radius: 0.8rem;\r\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\r\n\r\n    div.actions {\r\n      width: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 1rem;\r\n    }\r\n\r\n    div.rest-side {\r\n      margin-left: auto;\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport Button from \"../../../../app/components/Button\";\r\nimport { Activity } from \"../../../../app/models/activity\";\r\n\r\nimport { Container } from \"./styles\";\r\nimport useStore from \"../../../../app/stores/useStore\";\r\nimport { Label } from \"semantic-ui-react\";\r\n\r\ninterface HeaderProps {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function Header({ activity }: HeaderProps) {\r\n  const { activityStore } = useStore();\r\n  const { updateAttendance, loading, cancelActivityToggle } = activityStore;\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"content\">\r\n        {activity.isCancelled && (\r\n          <Label\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 1000,\r\n              left: -14,\r\n              top: 20,\r\n            }}\r\n            ribbon\r\n            color=\"red\"\r\n            content=\"Cancelled\"\r\n          />\r\n        )}\r\n        <img\r\n          src={`/assets/categoryImages/${activity.category}.jpg`}\r\n          alt={activity.category}\r\n        />\r\n        <div className=\"hover-image\">\r\n          <h1>{activity.title}</h1>\r\n          <span>{format(activity.date!, \"dd MMM yyyy\")}</span>\r\n          <span className=\"hostedBy\">\r\n            Hosted by{\" \"}\r\n            <span>\r\n              <Link to={`/profiles/${activity.host?.userName}`}>\r\n                {activity.host?.displayName}\r\n              </Link>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer\">\r\n        <div className=\"actions\">\r\n          {activity.isHost ? (\r\n            <>\r\n              <Button\r\n                situation={activity.isCancelled ? \"positive\" : \"negative\"}\r\n                onClick={cancelActivityToggle}\r\n                loading={loading}\r\n              >\r\n                {activity.isCancelled\r\n                  ? \"Re-activate Activity\"\r\n                  : \"Cancel Activity\"}\r\n              </Button>\r\n              <div className=\"rest-side\">\r\n                <Link to={`/manage/${activity.id}`}>\r\n                  <Button situation=\"master\" disabled={activity.isCancelled}>\r\n                    Manage event\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </>\r\n          ) : activity.isGoing ? (\r\n            <Button\r\n              situation=\"none\"\r\n              loading={loading}\r\n              onClick={updateAttendance}\r\n            >\r\n              Cancel attendance\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              situation=\"default\"\r\n              loading={loading}\r\n              onClick={updateAttendance}\r\n              disabled={activity.isCancelled}\r\n            >\r\n              Join activity\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: information;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 0.5rem;\r\n  background-color: #fff;\r\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n\r\n  div.content {\r\n    padding: 1.4rem 2rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    font-size: 1.5rem;\r\n    font-weight: 500;\r\n\r\n    & + div {\r\n      border-top: 2px solid #e6e6e6;\r\n    }\r\n\r\n    svg {\r\n      color: #03aba4;\r\n      margin-right: 2rem;\r\n    }\r\n  }\r\n`;\r\n","import { FiInfo, FiCalendar, FiMapPin } from \"react-icons/fi\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport { Activity } from \"../../../../app/models/activity\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface InformationProps {\r\n  activity: Activity;\r\n}\r\n\r\nexport default function Information({ activity }: InformationProps) {\r\n  return (\r\n    <Container>\r\n      <div className=\"content\">\r\n        <FiInfo />\r\n        {activity.description}\r\n      </div>\r\n      <div className=\"content\">\r\n        <FiCalendar />\r\n        {format(activity.date!, \"dd MMM yyyy\")}\r\n      </div>\r\n      <div className=\"content\">\r\n        <FiMapPin />\r\n        {activity.venue}, {activity.city}\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: sideBar;\r\n\r\n  height: fit-content;\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\r\n\r\n  header {\r\n    padding: 1rem;\r\n    border-top-left-radius: 0.8rem;\r\n    border-top-right-radius: 0.8rem;\r\n    background-color: #03aba4;\r\n    text-align: center;\r\n    color: #fff;\r\n    font-size: 1.4rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  div.container-people {\r\n    padding: 1rem;\r\n    background-color: #fff;\r\n\r\n    div.content {\r\n      position: relative;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 1rem;\r\n\r\n      div.left-side {\r\n        img {\r\n          height: 80px;\r\n        }\r\n      }\r\n\r\n      div.rest-side {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n\r\n        h3 {\r\n          color: #1e6799;\r\n          font-size: 1.6rem;\r\n          font-weight: bold;\r\n          margin-bottom: 0.4rem;\r\n        }\r\n\r\n        span {\r\n          font-weight: 500;\r\n          font-size: 1.4rem;\r\n          color: #ffbe41;\r\n        }\r\n      }\r\n\r\n      div.hosted {\r\n        position: absolute;\r\n        right: -4rem;\r\n        bottom: 3.5rem;\r\n        padding: 0.5rem 2rem;\r\n        color: #fff;\r\n        background-color: #f1651e;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Activity } from \"../../../../app/models/activity\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface SideBarProps {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function SideBar({\r\n  activity: { attendees, host },\r\n}: SideBarProps) {\r\n  if (!attendees) return null;\r\n\r\n  return (\r\n    <Container>\r\n      <header>\r\n        {attendees.length} {attendees.length === 1 ? \"Person\" : \"People\"}\r\n      </header>\r\n\r\n      <div className=\"container-people\">\r\n        {attendees.map((attendee) => (\r\n          <div className=\"content\" key={attendee.userName}>\r\n            <div className=\"left-side\">\r\n              <img\r\n                src={attendee.image || \"/assets/user.png\"}\r\n                alt={attendee.userName}\r\n              />\r\n            </div>\r\n            <div className=\"rest-side\">\r\n              <Link to={`/profiles/${attendee.userName}`}>\r\n                <h3>{attendee.displayName}</h3>\r\n              </Link>\r\n              {attendee.following && <span>Following</span>}\r\n            </div>\r\n            {attendee.userName === host?.userName && (\r\n              <div className=\"hosted\">\r\n                <span>Host</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 300px;\r\n  grid-template-areas:\r\n    \"header sideBar\"\r\n    \"information sideBar\"\r\n    \"chat sideBar\";\r\n  grid-gap: 2rem;\r\n`;\r\n","import { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport Chat from \"./Chat\";\r\nimport Header from \"./Header\";\r\nimport Information from \"./Information\";\r\nimport SideBar from \"./SideBar\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport Loading from \"../../../app/components/Loading\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ActivityDetailsParams {\r\n  id: string;\r\n}\r\n\r\nexport default observer(function ActivityDetails() {\r\n  const { activityStore } = useStore();\r\n  const {\r\n    selectedActivity: activity,\r\n    loadActivity,\r\n    loadingInitial,\r\n    clearSelectedActivity,\r\n  } = activityStore;\r\n  const { id } = useParams<ActivityDetailsParams>();\r\n\r\n  useEffect(() => {\r\n    if (id) loadActivity(id);\r\n\r\n    return () => {\r\n      clearSelectedActivity();\r\n    };\r\n  }, [id, loadActivity, clearSelectedActivity]);\r\n\r\n  if (loadingInitial || !activity) return <Loading />;\r\n\r\n  return (\r\n    <Container>\r\n      <Header {...{ activity }} />\r\n      <Information {...{ activity }} />\r\n      <Chat {...{ activityId: activity.id }} />\r\n      <SideBar {...{ activity }} />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContentProps {\r\n  isLoggedIn: boolean;\r\n}\r\n\r\nexport const Container = styled.div`\r\n  flex: 1;\r\n  background-image: linear-gradient(\r\n    135deg,\r\n    rgb(24, 42, 115) 0%,\r\n    rgb(33, 138, 174) 69%,\r\n    rgb(32, 167, 172) 89%\r\n  );\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 3rem;\r\n  color: #fff;\r\n\r\n  h1 {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    font-size: 6rem;\r\n\r\n    img {\r\n      height: 60px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Content = styled.div<ContentProps>`\r\n  display: flex;\r\n  flex-direction: ${(props) => (props.isLoggedIn ? \"column\" : \"row\")};\r\n  gap: 1rem;\r\n  text-align: center;\r\n\r\n  h2 {\r\n    font-size: 2.6rem;\r\n  }\r\n\r\n  button {\r\n    padding: 1.4rem 6rem;\r\n    color: #fff;\r\n    font-size: 2rem;\r\n    background-color: transparent;\r\n    font-weight: 500;\r\n    border: 2px solid #fff;\r\n    border-radius: 0.8rem;\r\n\r\n    &.btn-facebook {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      gap: 1rem;\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../app/stores/useStore\";\r\n\r\nimport { Container, Content } from \"./styles\";\r\n\r\nexport default observer(function Home() {\r\n  const { userStore } = useStore();\r\n  const { isLoggedIn, facebookLogin, fbLoading } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <h1>\r\n        <img src=\"/assets/logo.png\" alt=\"logo\" />\r\n        Reactivities\r\n      </h1>\r\n      <Content {...{ isLoggedIn }}>\r\n        {isLoggedIn ? (\r\n          <>\r\n            <h2>Welcome to Reactivities</h2>\r\n\r\n            <Link to=\"/activities\">\r\n              <button>Go to Activities</button>\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Button\r\n              size=\"huge\"\r\n              inverted\r\n              color=\"facebook\"\r\n              content=\"Login with Facebook\"\r\n              onClick={facebookLogin}\r\n              loading={fbLoading}\r\n            />\r\n\r\n            <Link to=\"/login\">\r\n              <button>Login</button>\r\n            </Link>\r\n\r\n            <Link to=\"/register\">\r\n              <button>Register</button>\r\n            </Link>\r\n          </>\r\n        )}\r\n      </Content>\r\n    </Container>\r\n  );\r\n});\r\n","import { Message } from \"semantic-ui-react\";\r\n\r\ninterface ValidationErrorsProps {\r\n  errors: any;\r\n}\r\n\r\nexport default function ValidationErrors({ errors }: ValidationErrorsProps) {\r\n  return (\r\n    <Message error>\r\n      <Message.List>\r\n        {errors.map((error: any, i: any) => (\r\n          <Message.Item key={i}>{error}</Message.Item>\r\n        ))}\r\n      </Message.List>\r\n    </Message>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport ValidationErrors from \"./ValidationErrors\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport default function TestErrors() {\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  function handleNotFound() {\r\n    axios\r\n      .get(baseUrl + \"buggy/not-found\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadRequest() {\r\n    axios\r\n      .get(baseUrl + \"buggy/bad-request\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleServerError() {\r\n    axios\r\n      .get(baseUrl + \"buggy/server-error\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleUnauthorised() {\r\n    axios\r\n      .get(baseUrl + \"buggy/unauthorised\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadGuid() {\r\n    axios\r\n      .get(baseUrl + \"activities/notaguid\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleValidationError() {\r\n    axios.post(baseUrl + \"activities\", {}).catch((err) => setErrors(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header as=\"h1\" content=\"Test Error component\" />\r\n      <Segment>\r\n        <Button.Group widths=\"7\">\r\n          <Button onClick={handleNotFound} content=\"Not Found\" basic primary />\r\n          <Button\r\n            onClick={handleBadRequest}\r\n            content=\"Bad Request\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleValidationError}\r\n            content=\"Validation Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleServerError}\r\n            content=\"Server Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleUnauthorised}\r\n            content=\"Unauthorised\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button onClick={handleBadGuid} content=\"Bad Guid\" basic primary />\r\n        </Button.Group>\r\n      </Segment>\r\n\r\n      {errors && <ValidationErrors errors={errors} />}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin: 2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  background-color: #fff;\r\n  border-radius: 0.8rem;\r\n  border: 0.2rem solid #e6e6f0;\r\n  padding: 6rem;\r\n  text-align: center;\r\n\r\n  h1 {\r\n    margin: 0;\r\n  }\r\n\r\n  button {\r\n    background-color: #2378cc;\r\n    color: #fff;\r\n    padding: 1rem 2rem;\r\n    border-radius: 0.8rem;\r\n    border: 0;\r\n    font-size: 1.4rem;\r\n    font-weight: 500;\r\n\r\n    transition: filter 0.2s;\r\n\r\n    &:hover {\r\n      filter: brightness(0.9);\r\n    }\r\n  }\r\n`;\r\n","import { FiSearch } from \"react-icons/fi\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Container>\r\n      <FiSearch size={60} />\r\n      <h1>Oops - we've locked everywhere and could not find this.</h1>\r\n      <Link to=\"/activities\">\r\n        <button>Return to activities page</button>\r\n      </Link>\r\n    </Container>\r\n  );\r\n}\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Container, Header, Segment } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nexport default observer(function ServerError() {\r\n  const { commonStore } = useStore();\r\n  const { error } = commonStore;\r\n\r\n  return (\r\n    <Container>\r\n      <Header as=\"h1\" content=\"Server Error\" />\r\n      <Header sub as=\"h5\" color=\"red\" content={error?.message} />\r\n\r\n      {error?.details && (\r\n        <Segment>\r\n          <Header as=\"h4\" content=\"Stack trace\" color=\"teal\" />\r\n          <code style={{ marginTop: \"1rem\" }}>{error.details}</code>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Label } from \"semantic-ui-react\";\r\n\r\nimport Button from \"../../../app/components/Button\";\r\nimport Input from \"../../../app/components/Input\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default observer(function LoginForm() {\r\n  const { userStore } = useStore();\r\n  const { login } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <Formik\r\n        initialValues={{\r\n          email: \"\",\r\n          password: \"\",\r\n          error: null,\r\n        }}\r\n        onSubmit={(values, { setErrors }) =>\r\n          login(values).catch((err) =>\r\n            setErrors({ error: \"Invalid email or password\" })\r\n          )\r\n        }\r\n      >\r\n        {({ handleSubmit, isSubmitting, errors }) => (\r\n          <Form onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <h1>Sign In to Reactivities</h1>\r\n            <Input name=\"email\" placeholder=\"E-mail\" />\r\n            <Input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n            <ErrorMessage\r\n              name=\"error\"\r\n              render={() => (\r\n                <Label\r\n                  style={{ marginBottom: \"1rem\" }}\r\n                  color=\"red\"\r\n                  content={errors.error}\r\n                />\r\n              )}\r\n            />\r\n            <Button loading={isSubmitting} situation=\"positive\" type=\"submit\">\r\n              Login\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport ValidationErrors from \"../../errors/ValidationErrors\";\r\nimport Button from \"../../../app/components/Button\";\r\nimport Input from \"../../../app/components/Input\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nconst formValidation = Yup.object({\r\n  displayName: Yup.string().required(\"Display name is required\"),\r\n  userName: Yup.string().required(\"Username is required\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\r\n  password: Yup.string().required(\"Password is required\"),\r\n});\r\n\r\nexport default observer(function RegisterForm() {\r\n  const { userStore } = useStore();\r\n  const { register } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <Formik\r\n        initialValues={{\r\n          displayName: \"\",\r\n          userName: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: null,\r\n        }}\r\n        onSubmit={(values, { setErrors }) =>\r\n          register(values).catch((error) => setErrors({ error }))\r\n        }\r\n        validationSchema={formValidation}\r\n      >\r\n        {({ handleSubmit, isSubmitting, errors, isValid, dirty }) => (\r\n          <Form className=\"error\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <h1>Sign Up to Reactivities</h1>\r\n            <Input name=\"displayName\" placeholder=\"Display name\" />\r\n            <Input name=\"userName\" placeholder=\"Username\" />\r\n            <Input name=\"email\" type=\"email\" placeholder=\"E-mail\" />\r\n            <Input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n            <ErrorMessage\r\n              name=\"error\"\r\n              render={() => <ValidationErrors errors={errors.error} />}\r\n            />\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              situation=\"positive\"\r\n              type=\"submit\"\r\n            >\r\n              Register\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  .content {\r\n    display: flex !important;\r\n    align-items: center;\r\n  }\r\n\r\n  .four.wide.column {\r\n    display: flex !important;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .two {\r\n      width: 100%;\r\n      display: flex !important;\r\n      flex-direction: row;\r\n\r\n      div.value {\r\n        font-size: 6rem !important;\r\n      }\r\n\r\n      div.label {\r\n        font-size: 1.6rem !important;\r\n      }\r\n    }\r\n\r\n    .divider {\r\n      width: 100%;\r\n    }\r\n\r\n    .reveal {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Item,\r\n  Segment,\r\n  Statistic,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../app/models/profile\";\r\nimport FollowButton from \"./FollowButton\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ProfileHeaderProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfileHeader({\r\n  profile,\r\n}: ProfileHeaderProps) {\r\n  return (\r\n    <Container>\r\n      <Segment>\r\n        <Grid>\r\n          <Grid.Column width={12}>\r\n            <Item.Group>\r\n              <Item>\r\n                <Item.Image\r\n                  avatar\r\n                  size=\"small\"\r\n                  src={profile.image || \"/assets/user.png\"}\r\n                />\r\n                <Item.Content>\r\n                  <Header as=\"h1\" content={profile.displayName} />\r\n                </Item.Content>\r\n              </Item>\r\n            </Item.Group>\r\n          </Grid.Column>\r\n          <Grid.Column width={4}>\r\n            <Statistic.Group widths={2}>\r\n              <Statistic label=\"Followers\" value={profile.followersCount} />\r\n              <Statistic label=\"Following\" value={profile.followingCount} />\r\n            </Statistic.Group>\r\n            <Divider />\r\n            <FollowButton {...{ profile }} />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n    </Container>\r\n  );\r\n});\r\n","import { Form, Formik } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport Input from \"../../../app/components/Input\";\r\nimport Textarea from \"../../../app/components/Textarea\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\ninterface Props {\r\n  handleToggleEditMode: () => void;\r\n}\r\n\r\nconst schema = Yup.object({\r\n  displayName: Yup.string().required(),\r\n});\r\n\r\nexport default observer(function ProfileEditForm({\r\n  handleToggleEditMode,\r\n}: Props) {\r\n  const {\r\n    profileStore: { profile, updateProfile },\r\n  } = useStore();\r\n  return (\r\n    <Formik\r\n      initialValues={{ displayName: profile?.displayName, bio: profile?.bio }}\r\n      onSubmit={(values) => {\r\n        updateProfile(values).then(() => {\r\n          handleToggleEditMode();\r\n        });\r\n      }}\r\n      validationSchema={schema}\r\n    >\r\n      {({ isSubmitting, isValid, dirty }) => (\r\n        <Form className=\"ui form\">\r\n          <Input placeholder=\"Display Name\" name=\"displayName\" />\r\n          <Textarea rows={3} placeholder=\"Add your bio\" name=\"bio\" />\r\n          <Button\r\n            positive\r\n            type=\"submit\"\r\n            loading={isSubmitting}\r\n            content=\"Update profile\"\r\n            floated=\"right\"\r\n            disabled={!isValid || !dirty}\r\n          />\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n});\r\n","import { useCallback, useState } from \"react\";\r\nimport { Button, Grid, Header, Tab } from \"semantic-ui-react\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport ProfileEditForm from \"../ProfileEditForm\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nexport default observer(function ProfileAbout() {\r\n  const { profileStore } = useStore();\r\n  const { isCurrentUser, profile } = profileStore;\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const handleToggleEditMode = useCallback(() => {\r\n    setEditMode((value) => !value);\r\n  }, []);\r\n\r\n  return (\r\n    <Tab.Pane>\r\n      <Grid>\r\n        <Grid.Column width=\"16\">\r\n          <Header\r\n            floated=\"left\"\r\n            icon=\"user\"\r\n            content={`About ${profile?.displayName}`}\r\n          />\r\n          {isCurrentUser && (\r\n            <Button\r\n              floated=\"right\"\r\n              basic\r\n              content={editMode ? \"Cancel\" : \"Edit Profile\"}\r\n              onClick={() => setEditMode(!editMode)}\r\n            />\r\n          )}\r\n        </Grid.Column>\r\n        <Grid.Column width=\"16\">\r\n          {editMode ? (\r\n            <ProfileEditForm {...{ handleToggleEditMode }} />\r\n          ) : (\r\n            <span style={{ whiteSpace: \"pre-wrap\" }}>{profile?.bio}</span>\r\n          )}\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import { SyntheticEvent, useEffect } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Tab, Grid, Header, Card, Image, TabProps } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport { UserActivity } from \"../../../app/models/profile\";\r\n\r\nconst panes = [\r\n  { menuItem: \"Future Events\", pane: { key: \"future\" } },\r\n  { menuItem: \"Past Events\", pane: { key: \"past\" } },\r\n  { menuItem: \"Hosting\", pane: { key: \"hosting\" } },\r\n];\r\n\r\nexport default observer(function ProfileActivities() {\r\n  const { profileStore } = useStore();\r\n  const { loadUserActivities, profile, loadingActivities, userActivities } =\r\n    profileStore;\r\n\r\n  useEffect(() => {\r\n    loadUserActivities(profile!.userName);\r\n  }, [loadUserActivities, profile]);\r\n\r\n  const handleTabChange = (e: SyntheticEvent, data: TabProps) => {\r\n    loadUserActivities(\r\n      profile!.userName,\r\n      panes[data.activeIndex as number].pane.key\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Tab.Pane loading={loadingActivities}>\r\n      <Grid>\r\n        <Grid.Column width={16}>\r\n          <Header floated=\"left\" icon=\"calendar\" content={\"Activities\"} />\r\n        </Grid.Column>\r\n        <Grid.Column width={16}>\r\n          <Tab\r\n            panes={panes}\r\n            menu={{ secondary: true, pointing: true }}\r\n            onTabChange={(e, data) => handleTabChange(e, data)}\r\n          />\r\n          <br />\r\n          <Card.Group itemsPerRow={4}>\r\n            {userActivities.map((activity: UserActivity) => (\r\n              <Card\r\n                as={Link}\r\n                to={`/activities/${activity.id}`}\r\n                key={activity.id}\r\n              >\r\n                <Image\r\n                  src={`/assets/categoryImages/${activity.category}.jpg`}\r\n                  style={{ minHeight: 100, objectFit: \"cover\" }}\r\n                />\r\n                <Card.Content>\r\n                  <Card.Header textAlign=\"center\">{activity.title}</Card.Header>\r\n                  <Card.Meta textAlign=\"center\">\r\n                    <div>{format(new Date(activity.date), \"do LLL\")}</div>\r\n                    <div>{format(new Date(activity.date), \"h:mm a\")}</div>\r\n                  </Card.Meta>\r\n                </Card.Content>\r\n              </Card>\r\n            ))}\r\n          </Card.Group>\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Card, Grid, Header, Tab } from \"semantic-ui-react\";\r\n\r\nimport ProfileCard from \"../ProfileCard\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nexport default observer(function ProfileFollowings() {\r\n  const { profileStore } = useStore();\r\n  const { profile, followings, loadingFollowings, activeTab } = profileStore;\r\n\r\n  return (\r\n    <Tab.Pane loading={loadingFollowings}>\r\n      <Grid>\r\n        <Grid.Column width={16}>\r\n          <Header\r\n            floated=\"left\"\r\n            icon=\"user\"\r\n            content={\r\n              activeTab === 3\r\n                ? `People following ${profile?.displayName}`\r\n                : `People ${profile?.displayName} is following`\r\n            }\r\n          />\r\n        </Grid.Column>\r\n        <Grid.Column width={16}>\r\n          <Card.Group itemsPerRow={4}>\r\n            {followings.map((profile) => (\r\n              <ProfileCard key={profile.userName} {...{ profile }} />\r\n            ))}\r\n          </Card.Group>\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import { Cropper } from \"react-cropper\";\r\nimport \"cropperjs/dist/cropper.css\";\r\n\r\ninterface PhotoWidgetCropperProps {\r\n  imagePreview: string;\r\n  handleSetCropper: (cropper: Cropper) => void;\r\n}\r\n\r\nexport default function PhotoWidgetCropper({\r\n  imagePreview,\r\n  handleSetCropper,\r\n}: PhotoWidgetCropperProps) {\r\n  return (\r\n    <Cropper\r\n      src={imagePreview}\r\n      style={{\r\n        height: 200,\r\n        width: \"100%\",\r\n      }}\r\n      initialAspectRatio={1}\r\n      aspectRatio={1}\r\n      preview=\".img-preview\"\r\n      guides={false}\r\n      viewMode={1}\r\n      autoCropArea={1}\r\n      background={false}\r\n      onInitialized={handleSetCropper}\r\n    />\r\n  );\r\n}\r\n","import { useCallback, CSSProperties } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { Header, Icon } from \"semantic-ui-react\";\r\n\r\ninterface PhotoWidgetDropzoneProps {\r\n  handleSetFiles: (files: any) => void;\r\n}\r\n\r\nexport default function PhotoWidgetDropzone({\r\n  handleSetFiles,\r\n}: PhotoWidgetDropzoneProps) {\r\n  const dzStyles: CSSProperties = {\r\n    border: \"dashed 3px #eee\",\r\n    borderColor: \"#eee\",\r\n    borderRadius: \"0.5rem\",\r\n    paddingTop: \"3rem\",\r\n    textAlign: \"center\",\r\n    height: 200,\r\n  };\r\n\r\n  const dzActive: CSSProperties = {\r\n    borderColor: \"green\",\r\n  };\r\n\r\n  const onDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      handleSetFiles(\r\n        acceptedFiles.map((file: any) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n    },\r\n    [handleSetFiles]\r\n  );\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <div\r\n      {...getRootProps()}\r\n      style={\r\n        isDragActive\r\n          ? {\r\n              ...dzStyles,\r\n              ...dzActive,\r\n            }\r\n          : dzStyles\r\n      }\r\n    >\r\n      <input {...getInputProps()} />\r\n      <Icon name=\"upload\" size=\"huge\" />\r\n      <Header content=\"Drop image here\" />\r\n    </div>\r\n  );\r\n}\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { Button, Grid, Header } from \"semantic-ui-react\";\r\n\r\nimport PhotoWidgetCropper from \"./PhotoWidgetCropper\";\r\nimport PhotoWidgetDropzone from \"./PhotoWidgetDropzone\";\r\n\r\ninterface PhotoUploadWidgetProps {\r\n  uploading: boolean;\r\n  handlePhotoUpload: (file: Blob) => void;\r\n}\r\n\r\nexport default function PhotoUploadWidget({\r\n  uploading,\r\n  handlePhotoUpload,\r\n}: PhotoUploadWidgetProps) {\r\n  const [files, setFiles] = useState<any>([]);\r\n  const [cropper, setCropper] = useState<Cropper>();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      files.forEach((file: any) => URL.revokeObjectURL(file.preview));\r\n    };\r\n  }, [files]);\r\n\r\n  const handleSetFiles = useCallback((files: any) => {\r\n    setFiles(files);\r\n  }, []);\r\n\r\n  const handleSetCropper = useCallback((cropper: any) => {\r\n    setCropper(cropper);\r\n  }, []);\r\n\r\n  const onCrop = useCallback(() => {\r\n    if (cropper) {\r\n      cropper.getCroppedCanvas().toBlob((blob) => {\r\n        handlePhotoUpload(blob!);\r\n      });\r\n    }\r\n  }, [cropper, handlePhotoUpload]);\r\n\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width={4}>\r\n        <Header sub color=\"teal\" content=\"Step 1 - Add Photo\" />\r\n        <PhotoWidgetDropzone {...{ handleSetFiles }} />\r\n      </Grid.Column>\r\n      <Grid.Column width={1} />\r\n      <Grid.Column width={4}>\r\n        <Header sub color=\"teal\" content=\"Step 2 - Resize Image\" />\r\n        {files && files.length > 0 && (\r\n          <PhotoWidgetCropper\r\n            {...{ handleSetCropper, imagePreview: files[0].preview }}\r\n          />\r\n        )}\r\n      </Grid.Column>\r\n      <Grid.Column width={1} />\r\n      <Grid.Column width={4}>\r\n        <Header sub color=\"teal\" content=\"Step 3 - Preview & Upload\" />\r\n\r\n        {files && files.length > 0 && (\r\n          <>\r\n            <div\r\n              className=\"img-preview\"\r\n              style={{ minHeight: 200, overflow: \"hidden\" }}\r\n            />\r\n            <Button.Group className=\"imgPreview\">\r\n              <Button\r\n                loading={uploading}\r\n                onClick={onCrop}\r\n                positive\r\n                icon=\"check\"\r\n              />\r\n              <Button\r\n                disabled={uploading}\r\n                onClick={() => setFiles([])}\r\n                icon=\"close\"\r\n              />\r\n            </Button.Group>\r\n          </>\r\n        )}\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n","import { SyntheticEvent, useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport { Photo, Profile } from \"../../../app/models/profile\";\r\nimport PhotoUploadWidget from \"../../../app/components/PhotoUploadWidget\";\r\n\r\ninterface ProfilePhotosProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfilePhotos({\r\n  profile,\r\n}: ProfilePhotosProps) {\r\n  const { profileStore } = useStore();\r\n  const {\r\n    isCurrentUser,\r\n    uploadPhoto,\r\n    uploading,\r\n    loading,\r\n    setMainPhoto,\r\n    deletePhoto,\r\n  } = profileStore;\r\n\r\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\r\n  const [target, setTarget] = useState(\"\");\r\n\r\n  function handleToggleAddPhotoMode() {\r\n    setAddPhotoMode((value) => !value);\r\n  }\r\n\r\n  function handlePhotoUpload(file: Blob) {\r\n    uploadPhoto(file).then(() => handleToggleAddPhotoMode());\r\n  }\r\n\r\n  function handleSetMainPhoto(\r\n    photo: Photo,\r\n    event: SyntheticEvent<HTMLButtonElement>\r\n  ) {\r\n    setTarget(event.currentTarget.name);\r\n    setMainPhoto(photo);\r\n  }\r\n\r\n  function handleDeletePhoto(\r\n    photo: Photo,\r\n    event: SyntheticEvent<HTMLButtonElement>\r\n  ) {\r\n    setTarget(event.currentTarget.name);\r\n    deletePhoto(photo);\r\n  }\r\n\r\n  return (\r\n    <Tab.Pane>\r\n      <Grid>\r\n        <Grid.Column width={16}>\r\n          <Header floated=\"left\" icon=\"image\" content=\"Photos\" />\r\n          {isCurrentUser && (\r\n            <Button\r\n              floated=\"right\"\r\n              basic\r\n              content={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\r\n              onClick={handleToggleAddPhotoMode}\r\n            />\r\n          )}\r\n        </Grid.Column>\r\n        <Grid.Column width={16}>\r\n          {addPhotoMode ? (\r\n            <PhotoUploadWidget {...{ uploading, handlePhotoUpload }} />\r\n          ) : (\r\n            <Card.Group itemsPerRow={5}>\r\n              {profile.photos?.map((photo) => (\r\n                <Card key={photo.id}>\r\n                  <Image src={photo.url || \"/assets/user.png\"} />\r\n                  {isCurrentUser && (\r\n                    <Button.Group fluid widths={2}>\r\n                      <Button\r\n                        basic\r\n                        color=\"green\"\r\n                        content=\"Main\"\r\n                        name={`main-${photo.id}`}\r\n                        loading={target === `main-${photo.id}` && loading}\r\n                        onClick={(e) => handleSetMainPhoto(photo, e)}\r\n                        disabled={photo.isMain}\r\n                      />\r\n                      <Button\r\n                        basic\r\n                        color=\"red\"\r\n                        icon=\"trash\"\r\n                        name={`delete-${photo.id}`}\r\n                        loading={target === `delete-${photo.id}` && loading}\r\n                        onClick={(e) => handleDeletePhoto(photo, e)}\r\n                        disabled={photo.isMain}\r\n                      />\r\n                    </Button.Group>\r\n                  )}\r\n                </Card>\r\n              ))}\r\n            </Card.Group>\r\n          )}\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Tab } from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../app/models/profile\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport ProfileAbout from \"../ProfileAbout\";\r\nimport ProfileActivities from \"../ProfileActivities\";\r\nimport ProfileFollowings from \"../ProfileFollowings\";\r\nimport ProfilePhotos from \"../ProfilePhotos\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ProfileContentProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfileContent({\r\n  profile,\r\n}: ProfileContentProps) {\r\n  const { profileStore } = useStore();\r\n  const { setActiveTab } = profileStore;\r\n\r\n  const panes = [\r\n    { menuItem: \"About\", render: () => <ProfileAbout /> },\r\n    { menuItem: \"Photos\", render: () => <ProfilePhotos {...{ profile }} /> },\r\n    { menuItem: \"Events\", render: () => <ProfileActivities /> },\r\n    {\r\n      menuItem: \"Following\",\r\n      render: () => <ProfileFollowings {...{ profile }} />,\r\n    },\r\n    {\r\n      menuItem: \"Followers\",\r\n      render: () => <ProfileFollowings {...{ profile }} />,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Container>\r\n      <Tab\r\n        menu={{ fluid: true, vertical: true }}\r\n        menuPosition=\"right\"\r\n        panes={panes}\r\n        onTabChange={(e, data) => setActiveTab(data.activeIndex)}\r\n      />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport useStore from \"../../app/stores/useStore\";\r\nimport Loading from \"../../app/components/Loading\";\r\nimport ProfileHeader from \"./ProfileHeader\";\r\nimport ProfileContent from \"./ProfileContent\";\r\n\r\nimport { Container } from \"./styles\";\r\nimport { useEffect } from \"react\";\r\n\r\ninterface ProfileParams {\r\n  userName: string;\r\n}\r\n\r\nexport default observer(function Profile() {\r\n  const { userName } = useParams<ProfileParams>();\r\n  const { profileStore } = useStore();\r\n  const { loadingProfile, loadProfile, profile, setActiveTab } = profileStore;\r\n\r\n  useEffect(() => {\r\n    loadProfile(userName);\r\n\r\n    return () => {\r\n      setActiveTab(0);\r\n    };\r\n  }, [loadProfile, userName, setActiveTab]);\r\n\r\n  if (loadingProfile) return <Loading content=\"Loading profile...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      {profile && (\r\n        <>\r\n          <ProfileHeader {...{ profile }} />\r\n          <ProfileContent {...{ profile }} />\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-image: linear-gradient(\r\n    135deg,\r\n    rgb(24, 42, 115) 0%,\r\n    rgb(33, 138, 174) 69%,\r\n    rgb(32, 167, 172) 89%\r\n  );\r\n\r\n  nav {\r\n    height: 52px;\r\n    max-width: 1120px;\r\n    margin: 0 auto;\r\n    padding: 2rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    div.activities {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n\r\n      color: #fff;\r\n\r\n      img {\r\n        margin-right: 1rem;\r\n        width: 35px;\r\n        height: 35px;\r\n      }\r\n    }\r\n\r\n    div.menu {\r\n      margin-left: 4rem;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      gap: 2rem;\r\n\r\n      div.cover {\r\n        a {\r\n          color: #fff;\r\n          font-size: 1.4rem;\r\n\r\n          transition: filter 0.2s;\r\n\r\n          &:hover {\r\n            filter: brightness(0.9);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    div.user {\r\n      margin-left: auto;\r\n\r\n      .ui.dropdown > .divider,\r\n      .ui.dropdown > .dropdown.icon:before {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Image } from \"semantic-ui-react\";\r\n\r\nimport Button from \"../components/Button\";\r\nimport useStore from \"../stores/useStore\";\r\n\r\nimport { Container } from \"../styles/NavBar\";\r\n\r\nexport default observer(function Navbar() {\r\n  const { userStore } = useStore();\r\n  const { user, isLoggedIn, logout } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <nav>\r\n        <Link to=\"/\">\r\n          <div className=\"activities\">\r\n            <img src=\"/assets/logo.png\" alt=\"logo\" />\r\n            Reactivities\r\n          </div>\r\n        </Link>\r\n        <div className=\"menu\">\r\n          <div className=\"cover\">\r\n            <Link to=\"/activities\">Activities</Link>\r\n          </div>\r\n          <div className=\"cover\">\r\n            <Link to=\"/errors\">Errors</Link>\r\n          </div>\r\n          <div className=\"cover\">\r\n            <Link to=\"/createActivity\">\r\n              <Button situation=\"positive\">Create Activity</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        {isLoggedIn && user && (\r\n          <div className=\"user\">\r\n            <Image\r\n              src={user?.image || \"/assets/user.png\"}\r\n              alt={user?.userName}\r\n              avatar\r\n              spaced=\"right\"\r\n              className=\"user-image\"\r\n            />\r\n            <Dropdown pointing=\"top left\" text={user?.displayName}>\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item\r\n                  as={Link}\r\n                  to={`/profiles/${user?.userName}`}\r\n                  text=\"My profile\"\r\n                  icon=\"user\"\r\n                />\r\n                <Dropdown.Item onClick={logout} text=\"Logout\" icon=\"power\" />\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  flex: 1;\r\n  background-color: #eaeaea;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  max-width: 1120px;\r\n  margin: 0 auto;\r\n  margin-top: 5rem;\r\n`;\r\n","import { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport useStore from \"../stores/useStore\";\r\n\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport Loading from \"../components/Loading\";\r\nimport ActivityDashboard from \"../../features/activities\";\r\nimport ActivityForm from \"../../features/activities/ActivityForm\";\r\nimport ActivityDetails from \"../../features/activities/ActivityDetails\";\r\nimport Home from \"../../features/Home\";\r\nimport TestErrors from \"../../features/errors/TestError\";\r\nimport NotFound from \"../../features/errors/NotFound\";\r\nimport ServerError from \"../../features/errors/ServerError\";\r\nimport LoginForm from \"../../features/users/LoginForm\";\r\nimport RegisterForm from \"../../features/users/RegisterForm\";\r\nimport Profile from \"../../features/profiles\";\r\nimport Navbar from \"./NavBar\";\r\n\r\nimport { Container, Background, Content } from \"../styles/App\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default observer(function App() {\r\n  const location = useLocation();\r\n  const { commonStore, userStore } = useStore();\r\n  const { token, setAppLoaded, appLoaded } = commonStore;\r\n  const { getUser, getFacebookLoginStatus } = userStore;\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      getUser().finally(() => setAppLoaded());\r\n    } else {\r\n      getFacebookLoginStatus().then(() => setAppLoaded());\r\n      setAppLoaded();\r\n    }\r\n  }, [setAppLoaded, getUser, token, getFacebookLoginStatus]);\r\n\r\n  if (!appLoaded) return <Loading content=\"Loading app...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      <Route path=\"/\" component={Home} exact />\r\n\r\n      <Route\r\n        path=\"/(.+)\"\r\n        render={() => (\r\n          <>\r\n            <Navbar />\r\n\r\n            <Background>\r\n              <Content>\r\n                <Switch>\r\n                  <Route path=\"/\" component={Home} exact />\r\n                  <PrivateRoute\r\n                    path=\"/activities\"\r\n                    component={ActivityDashboard}\r\n                    exact\r\n                  />\r\n                  <PrivateRoute\r\n                    path=\"/activities/:id\"\r\n                    component={ActivityDetails}\r\n                  />\r\n                  <PrivateRoute\r\n                    key={location.key}\r\n                    path={[\"/createActivity\", \"/manage/:id\"]}\r\n                    component={ActivityForm}\r\n                  />\r\n                  <PrivateRoute\r\n                    path=\"/profiles/:userName\"\r\n                    component={Profile}\r\n                  />\r\n                  <PrivateRoute path=\"/errors\" component={TestErrors} />\r\n                  <Route path=\"/server-error\" component={ServerError} />\r\n                  <Route path=\"/login\" component={LoginForm} />\r\n                  <Route path=\"/register\" component={RegisterForm} />\r\n                  <Route component={NotFound} />\r\n                </Switch>\r\n              </Content>\r\n            </Background>\r\n          </>\r\n        )}\r\n      />\r\n\r\n      <ToastContainer position=\"bottom-center\" hideProgressBar />\r\n    </Container>\r\n  );\r\n});\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport default createGlobalStyle`\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n  font-size: 62.5%;\r\n}\r\n\r\n#root {\r\n  height: 100vh;\r\n}\r\n\r\nh1, h2, h3, h4, h5, h6 {\r\n  margin-bottom: 0;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: #000;\r\n}\r\n\r\nbody,\r\ninput,\r\nbutton,\r\ntextarea {\r\n  font: 400 1.6rem \"Roboto\", sans-serif;\r\n}\r\n\r\nbutton {\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n}\r\n\r\n.react-calendar {\r\n  width: 100%;\r\n  border: none;\r\n  box-shadow: rgb(99 99 99 / 20%) 0px 2px 8px 0px;\r\n  border-radius: 0.8rem;\r\n}\r\n\r\n.react-datepicker-wrapper, input {\r\n  width: 100%;\r\n}\r\n\r\n.react-datepicker {\r\n  font-size: 1rem;\r\n}\r\n\r\n.ui.dropdown .menu>.item {\r\n  font-size: 1.6rem;\r\n}\r\n\r\n.ui.dropdown .menu .active.item {\r\n  font-weight: 500;\r\n}\r\n\r\n.ui.label, .ui.labels .label {\r\n  font-size: 1.4rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.ui.segment, .ui.segments .segment, .ui.menu, .ui.form textarea{\r\n  font-size: 1.6rem;\r\n}\r\n\r\n.ui.buttons.imgPreview {\r\n  margin-top: 1rem;\r\n  width: 100%;\r\n}\r\n`;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Router } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nimport { StoreProvider } from \"./app/stores\";\r\nimport ScrollToTop from './app/layout/ScrollToTop';\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport App from \"./app/layout/App\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport GlobalStyles from \"./app/styles/global\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n  <StoreProvider>\r\n    <Router {...{ history }}>\r\n      <ScrollToTop />\r\n      <App />\r\n      <GlobalStyles />\r\n    </Router>\r\n  </StoreProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}