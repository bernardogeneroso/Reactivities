{"version":3,"sources":["app/models/pagination.ts","app/api/agent.ts","app/models/activity.ts","app/models/profile.ts","app/stores/context/activity.ts","app/stores/context/profile.ts","app/stores/context/user.ts","app/stores/index.tsx","app/stores/context/common.ts","app/stores/context/comment.ts","app/layout/ScrollToTop.tsx","reportWebVitals.ts","app/stores/useStore.ts","app/layout/PrivateRoute.tsx","app/components/Loading/index.tsx","features/activities/ActivityListItemPlaceholder/index.tsx","features/profiles/ProfileHeader/FollowButton/index.tsx","features/profiles/ProfileCard/index.tsx","features/activities/ActivityList/ActivityItem/AttendeesList/index.tsx","app/components/Button/styles.ts","app/components/Button/index.tsx","features/activities/ActivityList/ActivityItem/styles.ts","features/activities/ActivityList/ActivityItem/index.tsx","features/activities/ActivityList/styles.ts","features/activities/ActivityList/index.tsx","features/activities/ActivityFilters/styles.ts","features/activities/ActivityFilters/index.tsx","features/activities/styles.ts","features/activities/index.tsx","app/components/Input/styles.ts","app/components/Input/index.tsx","app/components/Textarea/styles.ts","app/components/Textarea/index.tsx","app/components/SelectInput/styles.ts","app/components/SelectInput/index.tsx","app/components/SelectInput/Options/category.ts","app/components/DateInput/styles.ts","app/components/DateInput/index.tsx","features/activities/ActivityForm/styles.ts","features/activities/ActivityForm/index.tsx","features/activities/ActivityDetails/Chat/styles.ts","features/activities/ActivityDetails/Chat/index.tsx","features/activities/ActivityDetails/Header/styles.ts","features/activities/ActivityDetails/Header/index.tsx","features/activities/ActivityDetails/Information/styles.ts","features/activities/ActivityDetails/Information/index.tsx","features/activities/ActivityDetails/SideBar/styles.ts","features/activities/ActivityDetails/SideBar/index.tsx","features/activities/ActivityDetails/styles.ts","features/activities/ActivityDetails/index.tsx","features/Home/styles.ts","features/Home/index.tsx","features/errors/ValidationErrors/index.tsx","features/errors/TestError.tsx","features/errors/NotFound/styles.ts","features/errors/NotFound/index.tsx","features/errors/ServerError/index.tsx","features/users/LoginForm/styles.ts","features/users/LoginForm/index.tsx","features/users/RegisterForm/styles.ts","features/users/RegisterForm/index.tsx","features/profiles/ProfileHeader/styles.ts","features/profiles/ProfileHeader/index.tsx","features/profiles/ProfileEditForm/index.tsx","features/profiles/ProfileAbout/index.tsx","features/profiles/ProfileActivities/index.tsx","features/profiles/ProfileFollowings/index.tsx","app/components/PhotoUploadWidget/PhotoWidgetCropper/index.tsx","app/components/PhotoUploadWidget/PhotoWidgetDropzone/index.tsx","app/components/PhotoUploadWidget/index.tsx","features/profiles/ProfilePhotos/index.tsx","features/profiles/ProfileContent/styles.ts","features/profiles/ProfileContent/index.tsx","features/profiles/styles.ts","features/profiles/index.tsx","app/styles/NavBar.ts","app/layout/NavBar.tsx","app/styles/App.ts","app/layout/App.tsx","app/styles/global.ts","index.tsx"],"names":["PaginatedResult","data","pagination","this","PagingParams","pageNumber","pageSize","axios","defaults","baseURL","process","interceptors","request","use","config","token","store","commonStore","headers","Authorization","response","a","JSON","parse","error","status","toast","method","errors","hasOwnProperty","history","push","modalStateErrors","key","flat","setServerError","Promise","reject","responseBody","requests","url","get","then","body","post","put","delete","agent","Activities","list","params","details","id","create","activity","update","attend","Account","current","login","user","register","Profiles","userName","uploadPhoto","file","formData","FormData","append","setMainPhoto","deletePhoto","updateProfile","profile","updateFollowing","listFollowings","predicate","listActivities","Activity","init","Object","assign","ActivityFormValues","undefined","title","category","description","date","city","venue","Profile","displayName","image","ActivityStore","activitiesRegister","Map","selectedActivity","submitting","loading","loadingInitial","pagingParams","set","setPagingParams","setPredicate","value","resetPredicate","forEach","loadActivities","axiosParams","result","runInAction","setActivity","setPagination","console","log","getActivity","loadActivity","createActivity","userStore","attendee","newActivity","hostUserName","attendees","updateActivity","updatedActivity","deleteActivity","updateAttendance","isGoing","filter","cancelActivityToggle","isCancelled","clearSelectedActivity","updateAttendeeFollowing","following","followersCount","makeAutoObservable","reaction","keys","clear","URLSearchParams","toString","toISOString","Array","from","values","sort","b","getTime","entries","activitiesByDate","reduce","activities","format","some","isHost","host","find","Date","ProfileStore","loadingProfile","uploading","followings","loadingFollowings","activeTab","userActivities","loadingActivities","setActiveTab","loadProfile","photo","photos","isMain","setImage","p","setDisplayName","activityStore","followingCount","loadFollowings","loadUserActivities","UserStore","credentials","setToken","logout","localStorage","removeItem","getUser","name","getItem","appLoaded","setAppLoaded","setItem","profileStore","commentStore","comments","hubConnection","createHubConnection","activityId","HubConnectionBuilder","withUrl","accessTokenFactory","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","catch","on","comment","createdAt","unshift","stopHubConnection","stop","clearComments","addComment","invoke","StoreContext","createContext","StoreProvider","children","Provider","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","useStore","useContext","PrivateRoute","Component","component","rest","isLoggedIn","render","props","to","Loading","inverted","content","Dimmer","active","Loader","ActivityListItemPlaceholder","Placeholder","fluid","style","marginTop","Segment","Group","minHeight","Header","Line","Paragraph","secondary","clearing","Button","disabled","color","floated","observer","Reveal","animated","Content","visible","width","hidden","basic","onClick","e","preventDefault","handleFollow","Card","as","Link","Image","src","alt","Description","str","length","slice","truncate","bio","extra","Icon","styles","borderColor","borderWidth","List","horizontal","map","Popup","hoverable","trigger","Item","size","circular","bordered","colors","master","positive","negative","none","default","Container","styled","button","situation","type","height","div","useState","target","setTarge","Label","attached","textAlign","className","event","currentTarget","groupedActivities","group","Filter","activated","shade","has","onChange","loadingNext","setLoadingNext","gridArea","pageStart","loadMore","currentPage","hasMore","totalPages","initialLoad","Input","useField","field","meta","touched","htmlFor","label","Textarea","SelectInput","helpers","Select","clearable","options","d","setValue","onBlur","setTouched","placeholder","text","DateInput","selected","validationSchema","Yup","required","nullable","useHistory","useParams","enableReinitialize","initialValues","onSubmit","uuid","handleSubmit","isValid","isSubmitting","dirty","autoComplete","cols","rows","placeholderText","showTimeSelect","timeCaption","dateFormat","schema","resetForm","position","onKeyPress","shiftKey","form","setFieldValue","formatDistanceToNow","zIndex","left","top","ribbon","ValidationErrors","Message","i","TestErrors","setErrors","widths","baseUrl","err","primary","NotFound","sub","message","email","password","marginBottom","formValidation","Grid","Column","avatar","Statistic","Divider","handleToggleEditMode","isCurrentUser","editMode","setEditMode","useCallback","Tab","Pane","icon","whiteSpace","panes","menuItem","pane","menu","pointing","onTabChange","activeIndex","handleTabChange","itemsPerRow","objectFit","Meta","PhotoWidgetCropper","imagePreview","handleSetCropper","initialAspectRatio","aspectRatio","preview","guides","viewMode","autoCropArea","background","onInitialized","PhotoWidgetDropzone","handleSetFiles","dzStyles","border","borderRadius","paddingTop","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","getRootProps","getInputProps","isDragActive","PhotoUploadWidget","handlePhotoUpload","files","setFiles","cropper","setCropper","revokeObjectURL","onCrop","getCroppedCanvas","toBlob","blob","overflow","addPhotoMode","setAddPhotoMode","setTarget","handleToggleAddPhotoMode","handleSetMainPhoto","handleDeletePhoto","vertical","menuPosition","spaced","Dropdown","Menu","Background","location","finally","path","Home","exact","ActivityDashboard","ActivityDetails","ActivityForm","ServerError","LoginForm","RegisterForm","hideProgressBar","createGlobalStyle","createBrowserHistory","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.eb78a87c.chunk.js","sourcesContent":["export interface Pagination {\r\n  currentPage: number;\r\n  itemsPerPage: number;\r\n  totalItems: number;\r\n  totalPages: number;\r\n}\r\n\r\nexport class PaginatedResult<T> {\r\n  data: T;\r\n  pagination: Pagination;\r\n\r\n  constructor(data: T, pagination: Pagination) {\r\n    this.data = data;\r\n    this.pagination = pagination;\r\n  }\r\n}\r\n\r\nexport class PagingParams {\r\n  pageNumber;\r\n  pageSize;\r\n\r\n  constructor(pageNumber = 1, pageSize = 2) {\r\n    this.pageNumber = pageNumber;\r\n    this.pageSize = pageSize;\r\n  }\r\n}\r\n","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { store } from \"../stores\";\r\nimport { history } from \"../..\";\r\nimport { PaginatedResult } from \"../models/pagination\";\r\nimport { Activity, ActivityFormValues } from \"../models/activity\";\r\nimport { User, UserFormValues } from \"../models/user\";\r\nimport { Photo, Profile, UserActivity } from \"../models/profile\";\r\n\r\nconst sleep = (delay: number) => {\r\n  return new Promise((resolve) => {\r\n    setTimeout(resolve, delay);\r\n  });\r\n};\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.request.use((config) => {\r\n  const token = store.commonStore.token;\r\n\r\n  if (token) config.headers!.Authorization = `Bearer ${token}`;\r\n\r\n  return config;\r\n});\r\n\r\naxios.interceptors.response.use(\r\n  async (response) => {\r\n    if (process.env.NODE_ENV === 'development') await sleep(1000);\r\n    const pagination = response.headers[\"pagination\"];\r\n    if (pagination) {\r\n      response.data = new PaginatedResult(\r\n        response.data,\r\n        JSON.parse(pagination)\r\n      );\r\n      return response as AxiosResponse<PaginatedResult<any>>;\r\n    }\r\n    return response;\r\n  },\r\n  (error: AxiosError) => {\r\n    const { data, status, config } = error.response!;\r\n\r\n    switch (status) {\r\n      case 400:\r\n        if (typeof data === \"string\") {\r\n          toast.error(data);\r\n        } else if (\r\n          config.method === \"get\" &&\r\n          data.errors.hasOwnProperty(\"id\")\r\n        ) {\r\n          history.push(\"/not-found\");\r\n        } else if (data.errors) {\r\n          const modalStateErrors = [];\r\n\r\n          for (const key in data.errors) {\r\n            if (data.errors[key]) {\r\n              modalStateErrors.push(data.errors[key]);\r\n            }\r\n          }\r\n\r\n          throw modalStateErrors.flat();\r\n        }\r\n        break;\r\n      case 401:\r\n        toast.error(\"You are not authorized\");\r\n        break;\r\n      case 404:\r\n        history.push(\"/not-found\");\r\n        break;\r\n      case 500:\r\n        store.commonStore.setServerError(data);\r\n        history.push(\"/server-error\");\r\n        break;\r\n    }\r\n\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nconst responseBody = <T>(response: AxiosResponse<T>) => response.data;\r\n\r\nconst requests = {\r\n  get: <T>(url: string) => axios.get<T>(url).then(responseBody),\r\n  post: <T>(url: string, body: {}) =>\r\n    axios.post<T>(url, body).then(responseBody),\r\n  put: <T>(url: string, body: {}) => axios.put<T>(url, body).then(responseBody),\r\n  del: <T>(url: string) => axios.delete<T>(url).then(responseBody),\r\n};\r\n\r\nconst Activities = {\r\n  list: (params: URLSearchParams) =>\r\n    axios\r\n      .get<PaginatedResult<Activity[]>>(\"/activities\", { params })\r\n      .then(responseBody),\r\n  details: (id: string) => requests.get<Activity>(`/activities/${id}`),\r\n  create: (activity: ActivityFormValues) =>\r\n    requests.post<void>(\"/activities\", activity),\r\n  update: (activity: ActivityFormValues) =>\r\n    requests.put<void>(`/activities/${activity.id}`, activity),\r\n  delete: (id: string) => requests.del<void>(`/activities/${id}`),\r\n  attend: (id: string) => requests.post<void>(`/activities/${id}/attend`, {}),\r\n};\r\n\r\nconst Account = {\r\n  current: () => requests.get<User>(\"/account\"),\r\n  login: (user: UserFormValues) => requests.post<User>(\"/account/login\", user),\r\n  register: (user: UserFormValues) =>\r\n    requests.post<User>(\"/account/register\", user),\r\n};\r\n\r\nconst Profiles = {\r\n  get: (userName: string) => requests.get<Profile>(`/profiles/${userName}`),\r\n  uploadPhoto: (file: Blob) => {\r\n    let formData = new FormData();\r\n    formData.append(\"File\", file);\r\n\r\n    return axios.post<Photo>(\"/photos\", formData, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  },\r\n  setMainPhoto: (id: string) => requests.post(`/photos/${id}/setMain`, {}),\r\n  deletePhoto: (id: string) => requests.del(`/photos/${id}`),\r\n  updateProfile: (profile: Partial<Profile>) =>\r\n    requests.put(`/profiles`, profile),\r\n  updateFollowing: (userName: string) =>\r\n    requests.post(`/follow/${userName}`, {}),\r\n  listFollowings: (userName: string, predicate: string) =>\r\n    requests.get<Profile[]>(`/follow/${userName}?predicate=${predicate}`),\r\n  listActivities: (userName: string, predicate: string) =>\r\n    requests.get<UserActivity[]>(\r\n      `/profiles/${userName}/activities?predicate=${predicate}`\r\n    ),\r\n};\r\n\r\nconst agent = {\r\n  Activities,\r\n  Account,\r\n  Profiles,\r\n};\r\n\r\nexport default agent;\r\n","import { Profile } from \"./profile\";\r\n\r\nexport interface Activity {\r\n  id: string;\r\n  title: string;\r\n  date: Date | null;\r\n  description: string;\r\n  category: string;\r\n  city: string;\r\n  venue: string;\r\n  hostUserName?: string;\r\n  isCancelled?: boolean;\r\n  isGoing: boolean;\r\n  isHost: boolean;\r\n  host?: Profile;\r\n  attendees: Profile[];\r\n}\r\n\r\nexport class Activity implements Activity {\r\n  constructor(init?: ActivityFormValues) {\r\n    Object.assign(this, init);\r\n  }\r\n}\r\n\r\nexport class ActivityFormValues {\r\n  id?: string = undefined;\r\n  title: string = \"\";\r\n  category: string = \"\";\r\n  description: string = \"\";\r\n  date: Date | null = null;\r\n  city: string = \"\";\r\n  venue: string = \"\";\r\n\r\n  constructor(activity?: ActivityFormValues) {\r\n    if (activity) {\r\n      this.id = activity.id;\r\n      this.title = activity.title;\r\n      this.category = activity.category;\r\n      this.description = activity.description;\r\n      this.date = activity.date;\r\n      this.city = activity.city;\r\n      this.venue = activity.venue;\r\n    }\r\n  }\r\n}\r\n","import { User } from \"./user\";\r\n\r\nexport interface Profile {\r\n  userName: string;\r\n  displayName: string;\r\n  image?: string;\r\n  bio?: string;\r\n  followersCount: number;\r\n  followingCount: number;\r\n  following: boolean;\r\n  photos?: Photo[];\r\n}\r\n\r\nexport class Profile implements Profile {\r\n  constructor(user: User) {\r\n    this.userName = user.userName;\r\n    this.displayName = user.displayName;\r\n    this.image = user.image;\r\n  }\r\n}\r\n\r\nexport interface Photo {\r\n  id: string;\r\n  url: string;\r\n  isMain: boolean;\r\n}\r\n\r\nexport interface UserActivity {\r\n  id: string;\r\n  title: string;\r\n  category: string;\r\n  date: Date;\r\n}\r\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport agent from \"../../api/agent\";\r\n\r\nimport { Activity, ActivityFormValues } from \"../../models/activity\";\r\nimport { store } from \"..\";\r\nimport { Profile } from \"../../models/profile\";\r\nimport { Pagination, PagingParams } from \"../../models/pagination\";\r\n\r\nexport default class ActivityStore {\r\n  activitiesRegister = new Map<string, Activity>();\r\n  selectedActivity: Activity | undefined = undefined;\r\n  submitting = false;\r\n  loading = false;\r\n  loadingInitial = false;\r\n  pagination: Pagination | null = null;\r\n  pagingParams = new PagingParams();\r\n  predicate = new Map().set(\"all\", true);\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    reaction(\r\n      () => this.predicate.keys(),\r\n      () => {\r\n        this.pagingParams = new PagingParams();\r\n        this.activitiesRegister.clear();\r\n        this.loadActivities();\r\n      }\r\n    );\r\n  }\r\n\r\n  setPagingParams = (pagingParams: PagingParams) => {\r\n    this.pagingParams = pagingParams;\r\n  };\r\n\r\n  setPredicate = (predicate: string, value: string | Date) => {\r\n    const resetPredicate = () => {\r\n      this.predicate.forEach((value, key) => {\r\n        if (key !== \"startDate\") this.predicate.delete(key);\r\n      });\r\n    };\r\n\r\n    switch (predicate) {\r\n      case \"all\":\r\n        resetPredicate();\r\n        this.predicate.set(\"all\", true);\r\n        break;\r\n      case \"isGoing\":\r\n        resetPredicate();\r\n        this.predicate.set(\"isGoing\", true);\r\n        break;\r\n      case \"isHost\":\r\n        resetPredicate();\r\n        this.predicate.set(\"isHost\", true);\r\n        break;\r\n      case \"startDate\":\r\n        this.predicate.delete(\"startDate\");\r\n        this.predicate.set(\"startDate\", value);\r\n        break;\r\n    }\r\n  };\r\n\r\n  get axiosParams() {\r\n    const params = new URLSearchParams();\r\n\r\n    params.append(\"pageNumber\", this.pagingParams.pageNumber.toString());\r\n    params.append(\"pageSize\", this.pagingParams.pageSize.toString());\r\n    this.predicate.forEach((value, key) => {\r\n      if (key === \"startDate\") {\r\n        params.append(key, (value as Date).toISOString());\r\n      } else {\r\n        params.append(key, value);\r\n      }\r\n    });\r\n\r\n    return params;\r\n  }\r\n\r\n  get activitiesByDate() {\r\n    return Array.from(this.activitiesRegister.values()).sort(\r\n      (a, b) => a.date!.getTime() - b.date!.getTime()\r\n    );\r\n  }\r\n\r\n  get groupedActivities() {\r\n    return Object.entries(\r\n      this.activitiesByDate.reduce((activities, activity) => {\r\n        const date = format(activity.date!, \"dd MMM yyyy\");\r\n        activities[date] = activities[date]\r\n          ? [...activities[date], activity]\r\n          : [activity];\r\n\r\n        return activities;\r\n      }, {} as { [key: string]: Activity[] })\r\n    );\r\n  }\r\n\r\n  loadActivities = async () => {\r\n    this.loadingInitial = true;\r\n\r\n    try {\r\n      const result = await agent.Activities.list(this.axiosParams);\r\n\r\n      runInAction(() => {\r\n        result.data.forEach((activity) => {\r\n          this.setActivity(activity);\r\n        });\r\n        this.setPagination(result.pagination);\r\n        this.loadingInitial = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => {\r\n        this.loadingInitial = false;\r\n      });\r\n    }\r\n  };\r\n\r\n  setPagination = (pagination: Pagination) => {\r\n    this.pagination = pagination;\r\n  };\r\n\r\n  private setActivity(activity: Activity) {\r\n    const user = store.userStore.user;\r\n\r\n    if (user) {\r\n      activity.isGoing = activity.attendees!.some(\r\n        (a) => a.userName === user.userName\r\n      );\r\n      activity.isHost = activity.hostUserName === user.userName;\r\n      activity.host = activity.attendees?.find(\r\n        (a) => a.userName === activity.hostUserName\r\n      );\r\n    }\r\n\r\n    activity.date = new Date(activity.date!);\r\n    this.activitiesRegister.set(activity.id, activity);\r\n  }\r\n\r\n  private getActivity = (id: string) => {\r\n    return this.activitiesRegister.get(id);\r\n  };\r\n\r\n  loadActivity = async (id: string) => {\r\n    let activity = this.getActivity(id);\r\n\r\n    if (activity) {\r\n      this.selectedActivity = activity;\r\n\r\n      return activity;\r\n    } else {\r\n      this.loadingInitial = true;\r\n\r\n      try {\r\n        activity = await agent.Activities.details(id);\r\n\r\n        runInAction(() => {\r\n          this.setActivity(activity!);\r\n          this.selectedActivity = activity;\r\n          this.loadingInitial = false;\r\n        });\r\n\r\n        return activity;\r\n      } catch (err) {\r\n        console.log(err);\r\n        runInAction(() => {\r\n          this.loadingInitial = false;\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  createActivity = async (activity: ActivityFormValues) => {\r\n    const user = store.userStore.user;\r\n    const attendee = new Profile(user!);\r\n    try {\r\n      await agent.Activities.create(activity);\r\n      const newActivity = new Activity(activity);\r\n      newActivity.hostUserName = user!.userName;\r\n      newActivity.attendees = [attendee];\r\n      this.setActivity(newActivity);\r\n\r\n      runInAction(() => {\r\n        this.selectedActivity = newActivity;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  updateActivity = async (activity: ActivityFormValues) => {\r\n    try {\r\n      await agent.Activities.update(activity);\r\n\r\n      runInAction(() => {\r\n        if (activity.id) {\r\n          let updatedActivity = {\r\n            ...this.getActivity(activity.id),\r\n            ...activity,\r\n          };\r\n          this.activitiesRegister.set(activity.id, updatedActivity as Activity);\r\n          this.selectedActivity = updatedActivity as Activity;\r\n        }\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  deleteActivity = async (id: string) => {\r\n    this.submitting = true;\r\n\r\n    try {\r\n      await agent.Activities.delete(id);\r\n\r\n      runInAction(() => {\r\n        this.activitiesRegister.delete(id);\r\n        this.submitting = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => {\r\n        this.submitting = false;\r\n      });\r\n    }\r\n  };\r\n\r\n  updateAttendance = async () => {\r\n    const user = store.userStore.user;\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n\r\n      runInAction(() => {\r\n        if (this.selectedActivity?.isGoing) {\r\n          this.selectedActivity.attendees =\r\n            this.selectedActivity.attendees?.filter(\r\n              (a) => a.userName !== user!.userName\r\n            );\r\n          this.selectedActivity.isGoing = false;\r\n        } else {\r\n          const attendee = new Profile(user!);\r\n          this.selectedActivity?.attendees?.push(attendee);\r\n          this.selectedActivity!.isGoing = true;\r\n        }\r\n\r\n        this.activitiesRegister.set(\r\n          this.selectedActivity!.id,\r\n          this.selectedActivity!\r\n        );\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  cancelActivityToggle = async () => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Activities.attend(this.selectedActivity!.id);\r\n\r\n      runInAction(() => {\r\n        this.selectedActivity!.isCancelled =\r\n          !this.selectedActivity?.isCancelled;\r\n        this.activitiesRegister.set(\r\n          this.selectedActivity!.id,\r\n          this.selectedActivity!\r\n        );\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  clearSelectedActivity = () => {\r\n    this.selectedActivity = undefined;\r\n  };\r\n\r\n  updateAttendeeFollowing = (userName: string) => {\r\n    this.activitiesRegister.forEach((activity) => {\r\n      activity.attendees.forEach((attendee) => {\r\n        if (attendee.userName === userName) {\r\n          attendee.following\r\n            ? attendee.followersCount--\r\n            : attendee.followersCount++;\r\n          attendee.following = !attendee.following;\r\n        }\r\n      });\r\n    });\r\n  };\r\n}\r\n","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\n\r\nimport { store } from \"..\";\r\nimport agent from \"../../api/agent\";\r\nimport { Photo, Profile, UserActivity } from \"../../models/profile\";\r\n\r\nexport default class ProfileStore {\r\n  profile: Profile | null = null;\r\n  loadingProfile = false;\r\n  uploading = false;\r\n  loading = false;\r\n  followings: Profile[] = [];\r\n  loadingFollowings: boolean = false;\r\n  activeTab = 0;\r\n  userActivities: UserActivity[] = [];\r\n  loadingActivities = false;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    reaction(\r\n      () => this.activeTab,\r\n      (activeTab) => {\r\n        if (activeTab === 3 || activeTab === 4) {\r\n          const predicate = activeTab === 3 ? \"followers\" : \"following\";\r\n          this.loadFollowings(predicate);\r\n        } else {\r\n          this.followings = [];\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  setActiveTab = (activeTab: any) => (this.activeTab = activeTab);\r\n\r\n  get isCurrentUser() {\r\n    if (store.userStore.user && this.profile) {\r\n      return store.userStore.user.userName === this.profile.userName;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  loadProfile = async (userName: string) => {\r\n    this.loadingProfile = true;\r\n\r\n    try {\r\n      const profile = await agent.Profiles.get(userName);\r\n      runInAction(() => {\r\n        this.profile = profile;\r\n        this.loadingProfile = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loadingProfile = false));\r\n    }\r\n  };\r\n\r\n  uploadPhoto = async (file: Blob) => {\r\n    this.uploading = true;\r\n\r\n    try {\r\n      const response = await agent.Profiles.uploadPhoto(file);\r\n      const photo = response.data;\r\n      runInAction(() => {\r\n        if (this.profile) {\r\n          this.profile.photos?.push(photo);\r\n          if (photo.isMain && store.userStore.user) {\r\n            store.userStore.setImage(photo.url);\r\n            this.profile.image = photo.url;\r\n          }\r\n        }\r\n        this.uploading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.uploading = false));\r\n    }\r\n  };\r\n\r\n  setMainPhoto = async (photo: Photo) => {\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Profiles.setMainPhoto(photo.id);\r\n      store.userStore.setImage(photo.url);\r\n      runInAction(() => {\r\n        if (this.profile && this.profile.photos) {\r\n          this.profile.photos.find((p) => p.isMain)!.isMain = false;\r\n          this.profile.photos.find((p) => p.id === photo.id)!.isMain = true;\r\n          this.profile.image = photo.url;\r\n        }\r\n        this.loading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  deletePhoto = async (photo: Photo) => {\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Profiles.deletePhoto(photo.id);\r\n      runInAction(() => {\r\n        if (this.profile && this.profile.photos) {\r\n          this.profile.photos = this.profile.photos.filter(\r\n            (p) => p.id !== photo.id\r\n          );\r\n        }\r\n        this.loading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  updateProfile = async (profile: Partial<Profile>) => {\r\n    this.loading = true;\r\n\r\n    try {\r\n      await agent.Profiles.updateProfile(profile);\r\n      runInAction(() => {\r\n        if (\r\n          profile.displayName &&\r\n          profile.displayName !== store.userStore.user?.displayName\r\n        ) {\r\n          store.userStore.setDisplayName(profile.displayName);\r\n        }\r\n        this.profile = { ...this.profile, ...(profile as Profile) };\r\n        this.loading = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  updateFollowing = async (userName: string, following: boolean) => {\r\n    this.loading = true;\r\n    try {\r\n      await agent.Profiles.updateFollowing(userName);\r\n      store.activityStore.updateAttendeeFollowing(userName);\r\n      runInAction(() => {\r\n        if (\r\n          this.profile &&\r\n          this.profile.userName !== store.userStore.user?.userName &&\r\n          this.profile.userName === userName\r\n        ) {\r\n          following\r\n            ? this.profile.followersCount++\r\n            : this.profile.followersCount--;\r\n          this.profile.following = !this.profile.following;\r\n        }\r\n        if (\r\n          this.profile &&\r\n          this.profile.userName === store.userStore.user?.userName\r\n        ) {\r\n          following\r\n            ? this.profile.followingCount++\r\n            : this.profile.followingCount--;\r\n        }\r\n        this.followings.forEach((profile) => {\r\n          if (profile.userName === userName) {\r\n            profile.following\r\n              ? profile.followersCount--\r\n              : profile.followersCount++;\r\n            profile.following = !profile.following;\r\n          }\r\n        });\r\n        this.loading = false;\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      runInAction(() => (this.loading = false));\r\n    }\r\n  };\r\n\r\n  loadFollowings = async (predicate: string) => {\r\n    this.loadingFollowings = true;\r\n\r\n    try {\r\n      const followings = await agent.Profiles.listFollowings(\r\n        this.profile!.userName,\r\n        predicate\r\n      );\r\n      runInAction(() => {\r\n        this.followings = followings;\r\n        this.loadingFollowings = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loadingFollowings = false));\r\n    }\r\n  };\r\n\r\n  loadUserActivities = async (userName: string, predicate?: string) => {\r\n    this.loadingActivities = true;\r\n\r\n    try {\r\n      const activities = await agent.Profiles.listActivities(\r\n        userName,\r\n        predicate!\r\n      );\r\n\r\n      runInAction(() => {\r\n        this.userActivities = activities;\r\n        this.loadingActivities = false;\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n      runInAction(() => (this.loadingActivities = false));\r\n    }\r\n  };\r\n}\r\n","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { store } from \"..\";\r\nimport { history } from \"../../..\";\r\nimport agent from \"../../api/agent\";\r\n\r\nimport { User, UserFormValues } from \"../../models/user\";\r\n\r\nexport default class UserStore {\r\n  user: User | null = null;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  get isLoggedIn() {\r\n    return !!this.user;\r\n  }\r\n\r\n  login = async (credentials: UserFormValues) => {\r\n    try {\r\n      const user = await agent.Account.login(credentials);\r\n      store.commonStore.setToken(user.token);\r\n\r\n      runInAction(() => (this.user = user));\r\n      history.push(\"/activities\");\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  logout = () => {\r\n    store.commonStore.setToken(null);\r\n    localStorage.removeItem(\"Reactivities:Token\");\r\n    this.user = null;\r\n    history.push(\"/\");\r\n  };\r\n\r\n  getUser = async () => {\r\n    try {\r\n      const user = await agent.Account.current();\r\n\r\n      runInAction(() => (this.user = user));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  register = async (credentials: UserFormValues) => {\r\n    try {\r\n      const user = await agent.Account.register(credentials);\r\n      store.commonStore.setToken(user.token);\r\n\r\n      runInAction(() => (this.user = user));\r\n      history.push(\"/activities\");\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  setImage = (image: string) => {\r\n    if (this.user) this.user.image = image;\r\n  };\r\n\r\n  setDisplayName = (name: string) => {\r\n    if (this.user) this.user.displayName = name;\r\n  };\r\n}\r\n","import { createContext } from \"react\";\r\n\r\nimport ActivityStore from \"./context/activity\";\r\nimport CommentStore from \"./context/comment\";\r\nimport CommonStore from \"./context/common\";\r\nimport ProfileStore from \"./context/profile\";\r\nimport UserStore from \"./context/user\";\r\n\r\ninterface Store {\r\n  activityStore: ActivityStore;\r\n  commonStore: CommonStore;\r\n  userStore: UserStore;\r\n  profileStore: ProfileStore;\r\n  commentStore: CommentStore;\r\n}\r\n\r\nexport const store: Store = {\r\n  activityStore: new ActivityStore(),\r\n  commonStore: new CommonStore(),\r\n  userStore: new UserStore(),\r\n  profileStore: new ProfileStore(),\r\n  commentStore: new CommentStore(),\r\n};\r\n\r\nexport const StoreContext = createContext(store);\r\n\r\nexport const StoreProvider = ({ children }: any) => {\r\n  return (\r\n    <StoreContext.Provider value={store}>{children}</StoreContext.Provider>\r\n  );\r\n};\r\n","import { makeAutoObservable, reaction } from \"mobx\";\r\n\r\nimport { ServerError } from \"../../models/serverError\";\r\n\r\nexport default class CommonStore {\r\n  error: ServerError | null = null;\r\n  token: string | null = localStorage.getItem(\"Reactivities:Token\");\r\n  appLoaded = false;\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n\r\n    reaction(\r\n      () => this.token,\r\n      (token) => {\r\n        if (token) {\r\n          localStorage.setItem(\"Reactivities:Token\", token);\r\n        } else {\r\n          localStorage.removeItem(\"Reactivities:Token\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  setServerError = (error: ServerError) => {\r\n    this.error = error;\r\n  };\r\n\r\n  setToken = (token: string | null) => {\r\n    this.token = token;\r\n  };\r\n\r\n  setAppLoaded = () => {\r\n    this.appLoaded = true;\r\n  };\r\n}\r\n","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport {\r\n  HubConnection,\r\n  HubConnectionBuilder,\r\n  LogLevel,\r\n} from \"@microsoft/signalr\";\r\n\r\nimport { ChatComment } from \"../../models/comment\";\r\nimport { store } from \"..\";\r\n\r\nexport default class CommentStore {\r\n  comments: ChatComment[] = [];\r\n  hubConnection: HubConnection | null = null;\r\n\r\n  constructor() {\r\n      makeAutoObservable(this);\r\n  }\r\n\r\n  createHubConnection = (activityId: string) => {\r\n      if (store.activityStore.selectedActivity) {\r\n          this.hubConnection = new HubConnectionBuilder()\r\n              .withUrl(process.env.REACT_APP_CHAT_URL + '?activityId=' + activityId, {\r\n                  accessTokenFactory: () => store.userStore.user?.token!\r\n              })\r\n              .withAutomaticReconnect()\r\n              .configureLogging(LogLevel.Information)\r\n              .build();\r\n\r\n          this.hubConnection.start().catch(error => console.log('Error establishing the connection: ', error));\r\n\r\n          this.hubConnection.on('LoadComments', (comments: ChatComment[]) => {\r\n              runInAction(() => {\r\n                  comments.forEach(comment => {\r\n                      comment.createdAt = new Date(comment.createdAt + 'Z');\r\n                  })\r\n                  this.comments = comments\r\n              });\r\n          })\r\n\r\n          this.hubConnection.on('ReceiveComment', (comment: ChatComment) => {\r\n              runInAction(() => {\r\n                  comment.createdAt = new Date(comment.createdAt);\r\n                  this.comments.unshift(comment)\r\n              });\r\n          })\r\n      }\r\n  }\r\n\r\n  stopHubConnection = () => {\r\n      this.hubConnection?.stop().catch(error => console.log('Error stopping connection: ', error));\r\n  }\r\n\r\n  clearComments = () => {\r\n      this.comments = [];\r\n      this.stopHubConnection();\r\n  }\r\n\r\n  addComment = async (values: any) => {\r\n      values.activityId = store.activityStore.selectedActivity?.id;\r\n      try {\r\n          await this.hubConnection?.invoke('SendComment', values);\r\n      } catch (error) {\r\n          console.log(error);\r\n      }\r\n  }\r\n}","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { useContext } from \"react\";\r\n\r\nimport { StoreContext } from \".\";\r\n\r\nexport default function useStore() {\r\n  return useContext(StoreContext);\r\n}\r\n","import { Redirect, Route, RouteComponentProps, RouteProps } from \"react-router-dom\";\r\n\r\nimport useStore from \"../stores/useStore\";\r\n\r\ninterface Props extends RouteProps {\r\n    component: React.ComponentType<RouteComponentProps<any>> | React.ComponentType<any>;\r\n}\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}: Props) {\r\n    const {userStore: {isLoggedIn}} = useStore();\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render={(props) => isLoggedIn ? <Component {...props} /> : <Redirect to='/' />}\r\n        />\r\n    )\r\n}","import { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\ninterface LoadingProp {\r\n  inverted?: boolean;\r\n  content?: string;\r\n}\r\n\r\nexport default function Loading({\r\n  inverted = true,\r\n  content = \"Loading...\",\r\n}: LoadingProp) {\r\n  return (\r\n    <Dimmer active={true} inverted={inverted}>\r\n      <Loader content={content} />\r\n    </Dimmer>\r\n  );\r\n}\r\n","import { Segment, Button, Placeholder } from \"semantic-ui-react\";\r\n\r\nexport default function ActivityListItemPlaceholder() {\r\n  return (\r\n    <>\r\n      <Placeholder fluid style={{ marginTop: 25 }}>\r\n        <Segment.Group>\r\n          <Segment style={{ minHeight: 110 }}>\r\n            <Placeholder>\r\n              <Placeholder.Header image>\r\n                <Placeholder.Line />\r\n                <Placeholder.Line />\r\n              </Placeholder.Header>\r\n              <Placeholder.Paragraph>\r\n                <Placeholder.Line />\r\n              </Placeholder.Paragraph>\r\n            </Placeholder>\r\n          </Segment>\r\n          <Segment>\r\n            <Placeholder>\r\n              <Placeholder.Line />\r\n              <Placeholder.Line />\r\n            </Placeholder>\r\n          </Segment>\r\n          <Segment secondary style={{ minHeight: 70 }} />\r\n          <Segment clearing>\r\n            <Button disabled color=\"blue\" floated=\"right\" content=\"View\" />\r\n          </Segment>\r\n        </Segment.Group>\r\n      </Placeholder>\r\n    </>\r\n  );\r\n}\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Button, Reveal } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../../../app/stores/useStore\";\r\nimport { Profile } from \"../../../../app/models/profile\";\r\nimport { SyntheticEvent } from \"react\";\r\n\r\ninterface FollowButtonProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function FollowButton({ profile }: FollowButtonProps) {\r\n  const { profileStore, userStore } = useStore();\r\n  const { updateFollowing, loading } = profileStore;\r\n  const { user } = userStore;\r\n\r\n  if (user?.userName === profile.userName) return null;\r\n\r\n  function handleFollow(e: SyntheticEvent, userName: string) {\r\n    e.preventDefault();\r\n    profile.following\r\n      ? updateFollowing(userName, false)\r\n      : updateFollowing(userName, true);\r\n  }\r\n\r\n  return (\r\n    <Reveal animated=\"move\">\r\n      <Reveal.Content visible style={{ width: \"100%\" }}>\r\n        <Button\r\n          fluid\r\n          color=\"teal\"\r\n          content={profile.following ? \"Following\" : \"Not following\"}\r\n        />\r\n      </Reveal.Content>\r\n      <Reveal.Content hidden style={{ width: \"100%\" }}>\r\n        <Button\r\n          fluid\r\n          basic\r\n          color={profile.following ? \"red\" : \"green\"}\r\n          content={profile.following ? \"Unfollow\" : \"Follow\"}\r\n          loading={loading}\r\n          onClick={(e) => handleFollow(e, profile.userName)}\r\n        />\r\n      </Reveal.Content>\r\n    </Reveal>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Icon, Image } from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../app/models/profile\";\r\nimport FollowButton from \"../ProfileHeader/FollowButton\";\r\n\r\ninterface ProfileCardProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfileCard({ profile }: ProfileCardProps) {\r\n  function truncate(str: string | undefined) {\r\n    if (str) return str.length > 40 ? str.slice(0, 37) + \"...\" : str;\r\n  }\r\n\r\n  return (\r\n    <Card as={Link} to={`/profiles/${profile.userName}`}>\r\n      <Image src={profile.image || \"/assets/user.png\"} alt={profile.userName} />\r\n      <Card.Content>\r\n        <Card.Header>{profile.displayName}</Card.Header>\r\n        <Card.Description>{truncate(profile.bio)}</Card.Description>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <Icon name=\"user\" />\r\n        {profile.followersCount} followers\r\n      </Card.Content>\r\n      <FollowButton {...{ profile }} />\r\n    </Card>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Image, List, Popup } from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../../../app/models/profile\";\r\n\r\nimport ProfileCard from \"../../../../profiles/ProfileCard\";\r\n\r\ninterface AttendeesListProps {\r\n  attendees: Profile[];\r\n}\r\n\r\nexport default observer(function AttendeesList({\r\n  attendees,\r\n}: AttendeesListProps) {\r\n  const styles = {\r\n    borderColor: \"orange\",\r\n    borderWidth: 2,\r\n  };\r\n\r\n  return (\r\n    <List horizontal>\r\n      {attendees.map((attendee) => (\r\n        <Popup\r\n          hoverable\r\n          key={attendee.userName}\r\n          trigger={\r\n            <List.Item as={Link} to={`/profiles/${attendee.userName}`}>\r\n              <Image\r\n                size=\"mini\"\r\n                circular\r\n                src={attendee.image || \"/assets/user.png\"}\r\n                bordered\r\n                style={attendee.following ? styles : null}\r\n              />\r\n            </List.Item>\r\n          }\r\n        >\r\n          <Popup.Content>\r\n            <ProfileCard profile={attendee} />\r\n          </Popup.Content>\r\n        </Popup>\r\n      ))}\r\n    </List>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nimport { Situations } from \".\";\r\n\r\ninterface ContainerProps {\r\n  situation: Situations;\r\n}\r\n\r\nconst colors = {\r\n  master: \"#f1651e\",\r\n  positive: \"#4EAC4D\",\r\n  negative: \"#f94d6a\",\r\n  none: \"#DBDCE1\",\r\n  default: \"#03aba4\",\r\n};\r\n\r\nexport const Container = styled.button<ContainerProps>`\r\n  border: 0;\r\n  padding: 0.6rem 1.4rem;\r\n  border-radius: 0.5rem;\r\n  font-size: 1.4rem;\r\n  background-color: ${(props) => colors[props.situation]};\r\n  color: ${(props) => (props.situation === \"none\" ? \"#2c2c2c\" : \"#fff\")};\r\n  font-weight: 500;\r\n\r\n  transition: filter 0.2s;\r\n\r\n  &:hover {\r\n    filter: brightness(0.9);\r\n  }\r\n\r\n  &:disabled {\r\n    filter: brightness(0.85);\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n`;\r\n","import { ButtonHTMLAttributes, ReactNode } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport type Situations =\r\n  | \"master\"\r\n  | \"positive\"\r\n  | \"negative\"\r\n  | \"none\"\r\n  | \"default\";\r\n\r\ntype ButtonProps = ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  children: ReactNode;\r\n  situation: Situations;\r\n  loading?: boolean;\r\n};\r\n\r\nexport default function Button({\r\n  children,\r\n  situation = \"default\",\r\n  loading = false,\r\n  ...props\r\n}: ButtonProps) {\r\n  return (\r\n    <Container {...{ situation }} {...props}>\r\n      {loading ? (\r\n        <Loader type=\"Oval\" height={16} width={50} color=\"#fff\" />\r\n      ) : (\r\n        children\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 0.8rem;\r\n  background-color: #fff;\r\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\r\n    rgba(0, 0, 0, 0.1) 0px 0px 0px 2px;\r\n\r\n  .ui[class*=\"top attached\"].label {\r\n    position: inherit !important;\r\n    border-radius: inherit;\r\n    border-bottom-left-radius: 0;\r\n    border-bottom-right-radius: 0;\r\n  }\r\n\r\n  header {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 2rem;\r\n    border-bottom: 2px solid #f2f1f2;\r\n\r\n    div.left-side {\r\n      img {\r\n        border-radius: 40px;\r\n        width: 80px;\r\n        height: 80px;\r\n      }\r\n    }\r\n\r\n    div.rest-side {\r\n      flex: 1;\r\n\r\n      h3 {\r\n        margin-bottom: 0.6rem;\r\n        font-size: 1.8rem;\r\n        font-weight: bold;\r\n      }\r\n\r\n      span {\r\n        font-size: 1.5rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  div.content {\r\n    div.local {\r\n      padding: 1rem;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 2rem;\r\n\r\n      span {\r\n        display: flex;\r\n        align-items: center;\r\n\r\n        font-weight: 500;\r\n\r\n        svg {\r\n          margin-right: 0.6rem;\r\n        }\r\n      }\r\n    }\r\n\r\n    div.attendees {\r\n      padding: 1rem 1rem;\r\n      background-color: #f2f1f2;\r\n      color: #7c787a;\r\n    }\r\n  }\r\n\r\n  div.footer {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    span.venue {\r\n      padding: 1rem;\r\n      border-radius: 1rem;\r\n      background-color: #fff;\r\n      border: 2px solid #e6e6e6;\r\n      font-size: 1.2rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    div.options {\r\n      margin-left: auto;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 1rem;\r\n    }\r\n  }\r\n`;\r\n","import { SyntheticEvent, useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { FiClock, FiMapPin } from \"react-icons/fi\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport AttendeesList from \"./AttendeesList\";\r\nimport Button from \"../../../../app/components/Button\";\r\n\r\nimport { Activity } from \"../../../../app/models/activity\";\r\nimport useStore from \"../../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Item, Label } from \"semantic-ui-react\";\r\n\r\ninterface ActivityItemProps {\r\n  activity: Activity;\r\n}\r\n\r\nfunction ActivityItem({ activity }: ActivityItemProps) {\r\n  const { activityStore } = useStore();\r\n  const { deleteActivity, submitting } = activityStore;\r\n\r\n  const [target, setTarge] = useState(\"\");\r\n\r\n  function handleDeleteActivity(\r\n    e: SyntheticEvent<HTMLButtonElement>,\r\n    id: string\r\n  ) {\r\n    setTarge(e.currentTarget.name);\r\n    deleteActivity(id);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {activity.isCancelled && (\r\n        <Label\r\n          attached=\"top\"\r\n          color=\"red\"\r\n          content=\"Cancelled\"\r\n          style={{\r\n            textAlign: \"center\",\r\n          }}\r\n        />\r\n      )}\r\n      <header>\r\n        <div className=\"left-side\">\r\n          <img src={activity.host?.image || \"/assets/user.png\"} alt=\"User\" />\r\n        </div>\r\n        <div className=\"rest-side\">\r\n          <h3>{activity.title}</h3>\r\n          <span>\r\n            Hosted by{\" \"}\r\n            <Link to={`/profiles/${activity.host?.userName}`}>\r\n              {activity.host?.displayName}\r\n            </Link>\r\n          </span>\r\n        </div>\r\n        {activity.isHost && (\r\n          <Item.Description>\r\n            <Label basic color=\"orange\">\r\n              You are hosting this activity\r\n            </Label>\r\n          </Item.Description>\r\n        )}\r\n        {activity.isGoing && !activity.isHost && (\r\n          <Item.Description>\r\n            <Label basic color=\"green\">\r\n              You are going to this activity\r\n            </Label>\r\n          </Item.Description>\r\n        )}\r\n      </header>\r\n\r\n      <div className=\"content\">\r\n        <div className=\"local\">\r\n          <span className=\"date\">\r\n            <FiClock />\r\n            {format(activity.date!, \"dd MMM yyyy h:mm aa\")}\r\n          </span>\r\n          <span className=\"city\">\r\n            <FiMapPin />\r\n            {activity.city}\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"attendees\">\r\n          <AttendeesList attendees={activity.attendees!} />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <span className=\"venue\">{activity.venue}</span>\r\n\r\n        <div className=\"options\">\r\n          <Button\r\n            name={activity.id}\r\n            situation=\"negative\"\r\n            onClick={(event) => handleDeleteActivity(event, activity.id)}\r\n            loading={target === activity.id && submitting}\r\n          >\r\n            Delete\r\n          </Button>\r\n          <Link to={`/activities/${activity.id}`}>\r\n            <Button situation=\"default\">View</Button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default observer(ActivityItem);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n\r\n  & + div {\r\n    margin-top: 2rem;\r\n  }\r\n\r\n  h3.group {\r\n    color: #03aba4;\r\n    font-size: 1.5rem;\r\n    font-weight: bold;\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport ActivityItem from \"./ActivityItem\";\r\n\r\nimport { Container, Content } from \"./styles\";\r\n\r\nexport default observer(function ActivityList() {\r\n  const { activityStore } = useStore();\r\n  const { groupedActivities } = activityStore;\r\n\r\n  return (\r\n    <Container>\r\n      {groupedActivities.map(([group, activities]) => (\r\n        <Content key={group}>\r\n          <h3 className=\"group\">{group}</h3>\r\n\r\n          {activities.map((activity) => (\r\n            <ActivityItem\r\n              {...{\r\n                key: activity.id,\r\n                activity,\r\n              }}\r\n            />\r\n          ))}\r\n        </Content>\r\n      ))}\r\n    </Container>\r\n  );\r\n});\r\n","import { shade } from \"polished\";\r\nimport styled from \"styled-components\";\r\n\r\ninterface FilterProps {\r\n  activated?: boolean;\r\n}\r\n\r\nexport const Container = styled.div`\r\n  grid-area: activityFilters;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n  margin-top: 3rem;\r\n\r\n  div.content {\r\n    height: fit-content;\r\n    display: flex;\r\n    flex-direction: column;\r\n    border-radius: 0.8rem;\r\n    background-color: #fff;\r\n    box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n\r\n    header {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      gap: 1rem;\r\n      padding: 1rem;\r\n      color: #03aba4;\r\n      font-weight: 500;\r\n\r\n      svg {\r\n        color: #03aba4;\r\n      }\r\n    }\r\n\r\n    div.container-filters {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Filter = styled.div<FilterProps>`\r\n  cursor: pointer;\r\n  padding: 1rem;\r\n  border-top: 1px solid rgb(0, 0, 0, 0.15);\r\n\r\n  transition: background-color 0.2s;\r\n\r\n  background-color: ${(props) =>\r\n    props.activated ? shade(0.05, \"#fff\") : \"#fff\"};\r\n\r\n  &:hover {\r\n    background-color: ${shade(0.05, \"#fff\")};\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport Calendar from \"react-calendar\";\r\nimport { FiFilter } from \"react-icons/fi\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container, Filter } from \"./styles\";\r\n\r\nexport default observer(function ActivityFilters() {\r\n  const { activityStore } = useStore();\r\n  const { predicate, setPredicate } = activityStore;\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"content\">\r\n        <header>\r\n          <FiFilter /> Filters\r\n        </header>\r\n\r\n        <div className=\"container-filters\">\r\n          <Filter\r\n            activated={!!predicate.has(\"all\")}\r\n            onClick={() => setPredicate(\"all\", \"true\")}\r\n          >\r\n            All activities\r\n          </Filter>\r\n          <Filter\r\n            activated={predicate.has(\"isGoing\")}\r\n            onClick={() => setPredicate(\"isGoing\", \"true\")}\r\n          >\r\n            I'm going\r\n          </Filter>\r\n          <Filter\r\n            activated={predicate.has(\"isHost\")}\r\n            onClick={() => setPredicate(\"isHost\", \"true\")}\r\n          >\r\n            I'm hosting\r\n          </Filter>\r\n        </div>\r\n      </div>\r\n\r\n      <Calendar\r\n        onChange={(date: any) => setPredicate(\"startDate\", date)}\r\n        value={predicate.get(\"startDate\") || new Date()}\r\n      />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 350px;\r\n  grid-template-areas: \"activityList activityFilters\";\r\n  gap: 3rem;\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { Loader } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../app/stores/useStore\";\r\nimport { PagingParams } from \"../../app/models/pagination\";\r\n\r\nimport ActivityListItemPlaceholder from \"./ActivityListItemPlaceholder\";\r\nimport ActivityList from \"./ActivityList\";\r\nimport ActivityFilters from \"./ActivityFilters\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default observer(function ActivityDashboard() {\r\n  const { activityStore } = useStore();\r\n  const {\r\n    loadActivities,\r\n    loadingInitial,\r\n    activitiesRegister,\r\n    setPagingParams,\r\n    pagination,\r\n  } = activityStore;\r\n\r\n  const [loadingNext, setLoadingNext] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (activitiesRegister.size <= 1) loadActivities();\r\n  }, [loadActivities, activitiesRegister.size]);\r\n\r\n  function handleGetNext() {\r\n    setLoadingNext(true);\r\n    setPagingParams(new PagingParams(pagination!.currentPage + 1));\r\n    loadActivities().then(() => setLoadingNext(false));\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loadingInitial && !loadingNext ? (\r\n        <div\r\n          style={{\r\n            gridArea: \"activityList\",\r\n          }}\r\n        >\r\n          <ActivityListItemPlaceholder />\r\n          <ActivityListItemPlaceholder />\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            gridArea: \"activityList\",\r\n          }}\r\n        >\r\n          <InfiniteScroll\r\n            pageStart={0}\r\n            loadMore={handleGetNext}\r\n            hasMore={\r\n              !loadingNext &&\r\n              !!pagination &&\r\n              pagination.currentPage < pagination.totalPages\r\n            }\r\n            initialLoad={false}\r\n          >\r\n            <ActivityList />\r\n          </InfiniteScroll>\r\n\r\n          <Loader active={loadingNext && !loadingInitial} />\r\n        </div>\r\n      )}\r\n\r\n      <ActivityFilters />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { InputHTMLAttributes } from \"react\";\r\nimport { useField } from \"formik\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  name: string;\r\n  placeholder: string;\r\n  label?: string;\r\n}\r\n\r\nexport default function Input({ type = \"text\", ...props }: InputProps) {\r\n  const [field, meta] = useField(props.name);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <label htmlFor=\"\">{props.label}</label>\r\n      <input {...field} {...props} {...{ type }} />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  textarea {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { TextareaHTMLAttributes } from \"react\";\r\nimport { useField } from \"formik\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface TextareaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\r\n  name: string;\r\n  placeholder: string;\r\n  label?: string;\r\n}\r\n\r\nexport default function Textarea(props: TextareaProps) {\r\n  const [field, meta] = useField(props.name);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <label htmlFor=\"\">{props.label}</label>\r\n      <textarea {...field} {...props} />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { InputHTMLAttributes } from \"react\";\r\nimport { Select } from \"semantic-ui-react\";\r\nimport { useField } from \"formik\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface SelectInputProps extends InputHTMLAttributes<HTMLSelectElement> {\r\n  name: string;\r\n  placeholder: string;\r\n  options: any;\r\n  label?: string;\r\n}\r\n\r\nexport default function SelectInput(props: SelectInputProps) {\r\n  const [field, meta, helpers] = useField(props.name);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <label htmlFor=\"\">{props.label}</label>\r\n      <Select\r\n        clearable\r\n        options={props.options}\r\n        value={field.value || null}\r\n        onChange={(e, d) => helpers.setValue(d.value)}\r\n        onBlur={() => helpers.setTouched(true)}\r\n        placeholder={props.placeholder}\r\n      />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","export const category = [\r\n  { text: \"Drinks\", value: \"drinks\" },\r\n  { text: \"Culture\", value: \"culture\" },\r\n  { text: \"Film\", value: \"film\" },\r\n  { text: \"Music\", value: \"music\" },\r\n  { text: \"Travel\", value: \"travel\" },\r\n];\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContainerProps {\r\n  error: boolean;\r\n}\r\n\r\nexport const Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  input {\r\n    background-color: ${(props) => (props.error ? \"#f8d7da\" : \"#fff\")};\r\n    padding: 1rem;\r\n    border: 1px solid ${(props) => (props.error ? \"#e7bfc3\" : \"#e6e6e6\")};\r\n    border-radius: 0.5rem;\r\n    outline: none;\r\n\r\n    &::placeholder {\r\n      color: ${(props) => (props.error ? \"#874f4f\" : \"#d9d7d7\")};\r\n    }\r\n  }\r\n\r\n  span {\r\n    margin-top: 0.3rem;\r\n  }\r\n`;\r\n","import { useField } from \"formik\";\r\nimport DatePicker, { ReactDatePickerProps } from \"react-datepicker\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default function DateInput(props: Partial<ReactDatePickerProps>) {\r\n  const [field, meta, helpers] = useField(props.name!);\r\n\r\n  return (\r\n    <Container error={meta.touched && !!meta.error}>\r\n      <DatePicker\r\n        {...field}\r\n        {...props}\r\n        selected={(field.value && new Date(field.value)) || null}\r\n        onChange={(date: Date) => helpers.setValue(date)}\r\n      />\r\n      {meta.touched && meta.error ? <span>{meta.error}</span> : null}\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: activityForm;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: fit-content;\r\n  background-color: #fff;\r\n  border-radius: 0.8rem;\r\n  padding: 1.4rem;\r\n\r\n  h2 {\r\n    font-size: 1.4rem;\r\n    color: #03aba4;\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  div.content {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n\r\n  div.footer {\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    flex-direction: row-reverse;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Formik, Form } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport { ActivityFormValues } from \"../../../app/models/activity\";\r\n\r\nimport Input from \"../../../app/components/Input\";\r\nimport Button from \"../../../app/components/Button\";\r\nimport Loading from \"../../../app/components/Loading\";\r\nimport Textarea from \"../../../app/components/Textarea\";\r\nimport SelectInput from \"../../../app/components/SelectInput\";\r\nimport { category } from \"../../../app/components/SelectInput/Options/category\";\r\nimport DateInput from \"../../../app/components/DateInput\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ActivityFormParams {\r\n  id: string;\r\n}\r\n\r\nconst validationSchema = Yup.object({\r\n  title: Yup.string().required(\"Title is required\"),\r\n  category: Yup.string().required(\"Category is required\"),\r\n  description: Yup.string().required(\"Description is required\"),\r\n  date: Yup.string().required(\"Date is required\").nullable(),\r\n  city: Yup.string().required(\"City is required\"),\r\n  venue: Yup.string().required(\"Venue is required\"),\r\n});\r\n\r\nexport default observer(function ActivityForm() {\r\n  const { activityStore } = useStore();\r\n  const { createActivity, updateActivity, loadActivity, loadingInitial } =\r\n    activityStore;\r\n  const history = useHistory();\r\n  const { id } = useParams<ActivityFormParams>();\r\n  const [activity, setActivity] = useState<ActivityFormValues>(\r\n    new ActivityFormValues()\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      loadActivity(id).then((activity) => {\r\n        setActivity(new ActivityFormValues(activity));\r\n      });\r\n    }\r\n  }, [id, loadActivity]);\r\n\r\n  function handleFormSubmit(data: ActivityFormValues) {\r\n    if (!data.id) {\r\n      let newActivity = {\r\n        ...data,\r\n        id: uuid(),\r\n      };\r\n\r\n      createActivity(newActivity).then(() => {\r\n        history.push(`/activities/${newActivity.id}`);\r\n      });\r\n    } else {\r\n      updateActivity({\r\n        ...data,\r\n        id: activity.id,\r\n      }).then(() => {\r\n        history.push(`/activities/${activity.id}`);\r\n      });\r\n    }\r\n  }\r\n\r\n  if (loadingInitial) return <Loading content=\"Loading activity on form...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      <h2>Activity details</h2>\r\n\r\n      <Formik\r\n        validationSchema={validationSchema}\r\n        enableReinitialize\r\n        initialValues={activity}\r\n        onSubmit={handleFormSubmit}\r\n      >\r\n        {({ handleSubmit, isValid, isSubmitting, dirty }) => (\r\n          <Form onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <div className=\"content\">\r\n              <Input name=\"title\" placeholder=\"Title\" />\r\n              <Textarea\r\n                name=\"description\"\r\n                placeholder=\"Description\"\r\n                cols={3}\r\n                rows={4}\r\n              />\r\n              <SelectInput\r\n                options={category}\r\n                name=\"category\"\r\n                placeholder=\"Category\"\r\n              />\r\n              <DateInput\r\n                name=\"date\"\r\n                placeholderText=\"Date\"\r\n                showTimeSelect\r\n                timeCaption=\"time\"\r\n                dateFormat=\"MMMM d, yyyy h:mm aa\"\r\n              />\r\n\r\n              <h2>Location details</h2>\r\n              <Input name=\"city\" placeholder=\"City\" />\r\n              <Input name=\"venue\" placeholder=\"Venue\" />\r\n            </div>\r\n\r\n            <div className=\"footer\">\r\n              <Button\r\n                type=\"submit\"\r\n                situation=\"positive\"\r\n                loading={isSubmitting}\r\n                disabled={!isValid || !dirty || isSubmitting}\r\n              >\r\n                Submit\r\n              </Button>\r\n              <Link to=\"/activities\">\r\n                <Button type=\"button\" situation=\"none\">\r\n                  Cancel\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: chat;\r\n  margin-bottom: 2rem;\r\n\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\r\n\r\n  header {\r\n    padding: 1rem;\r\n    border-top-left-radius: 0.8rem;\r\n    border-top-right-radius: 0.8rem;\r\n    background-color: #03aba4;\r\n    text-align: center;\r\n    color: #fff;\r\n    font-size: 1.4rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  div.sub-container {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background-color: #fff;\r\n    gap: 2rem;\r\n\r\n    div.chat-container {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 2rem;\r\n\r\n      div.message-container {\r\n        display: flex;\r\n        flex-direction: row;\r\n        gap: 1.4rem;\r\n\r\n        img {\r\n          height: 38px;\r\n        }\r\n\r\n        div.rest-side {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 0.6rem;\r\n\r\n          div.header-message {\r\n            display: flex;\r\n            flex-direction: row;\r\n            align-items: center;\r\n            gap: 1rem;\r\n\r\n            h3 {\r\n              font-size: 1.4rem;\r\n              font-weight: 600;\r\n            }\r\n\r\n            span {\r\n              font-size: 1.2rem;\r\n              color: #bebebe;\r\n            }\r\n          }\r\n\r\n          div.message {\r\n            font-size: 1.4rem;\r\n            white-space: pre-wrap;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    form.ui.form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 1rem;\r\n\r\n      button[type=\"submit\"] {\r\n        margin-left: auto;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport { Field, FieldProps, Form, Formik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport useStore from \"../../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ChatProps {\r\n  activityId: string;\r\n}\r\n\r\nconst schema = Yup.object({\r\n  body: Yup.string().required(),\r\n});\r\n\r\nexport default observer(function Chat({ activityId }: ChatProps) {\r\n  const { commentStore } = useStore();\r\n  const { createHubConnection, clearComments, comments, addComment } =\r\n    commentStore;\r\n\r\n  useEffect(() => {\r\n    if (activityId) {\r\n      createHubConnection(activityId);\r\n    }\r\n\r\n    return () => {\r\n      clearComments();\r\n    };\r\n  }, [activityId, createHubConnection, clearComments]);\r\n\r\n  return (\r\n    <Container>\r\n      <header>Chat about this event</header>\r\n\r\n      <div className=\"sub-container\">\r\n        <Formik\r\n          onSubmit={(values, { resetForm }) =>\r\n            addComment(values).then(() => resetForm())\r\n          }\r\n          initialValues={{ body: \"\" }}\r\n          validationSchema={schema}\r\n        >\r\n          {({ isSubmitting, isValid, handleSubmit }) => (\r\n            <Form className=\"ui form\">\r\n              <Field name=\"body\">\r\n                {(props: FieldProps) => (\r\n                  <div\r\n                    style={{\r\n                      position: \"relative\",\r\n                    }}\r\n                  >\r\n                    <Loader active={isSubmitting} />\r\n                    <textarea\r\n                      placeholder=\"Enter your comment (Enter submit, SHIFT + enter for new line)\"\r\n                      rows={2}\r\n                      {...props.field}\r\n                      onKeyPress={(e) => {\r\n                        if (e.key === \"Enter\" && e.shiftKey) {\r\n                          e.preventDefault();\r\n                          props.form.setFieldValue(\r\n                            \"body\",\r\n                            props.field.value + \"\\n\"\r\n                          );\r\n                        }\r\n\r\n                        if (e.key === \"Enter\" && !e.shiftKey) {\r\n                          e.preventDefault();\r\n                          isValid && handleSubmit();\r\n                        }\r\n                      }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n\r\n        <div className=\"chat-container\">\r\n          {comments.map((comment) => (\r\n            <div className=\"message-container\" key={comment.id}>\r\n              <img\r\n                src={comment.image || \"/assets/user.png\"}\r\n                alt={comment.userName}\r\n              />\r\n              <div className=\"rest-side\">\r\n                <div className=\"header-message\">\r\n                  <Link to={`/profiles/${comment.userName}`}>\r\n                    <h3>{comment.displayName}</h3>\r\n                  </Link>\r\n                  <span>{formatDistanceToNow(comment.createdAt)} ago</span>\r\n                </div>\r\n                <div className=\"message\">{comment.body}</div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: header;\r\n\r\n  div.content {\r\n    position: relative;\r\n    margin-bottom: -0.3rem;\r\n\r\n    img {\r\n      width: 100%;\r\n      filter: brightness(0.4);\r\n    }\r\n\r\n    div.hover-image {\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      margin: 0 auto;\r\n      max-width: 80%;\r\n      width: 100%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      color: #fff;\r\n      padding-bottom: 4rem;\r\n\r\n      h1 {\r\n        margin-bottom: 0;\r\n      }\r\n\r\n      span {\r\n        color: #f1f1f1;\r\n        font-size: 1.4rem;\r\n      }\r\n\r\n      span.hostedBy {\r\n        margin-top: 1rem;\r\n\r\n        a {\r\n          color: #fff;\r\n          font-weight: 500;\r\n\r\n          transition: filter 0.2s;\r\n\r\n          &:hover {\r\n            filter: brightness(0.8);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  div.footer {\r\n    padding: 1rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    background-color: #fff;\r\n    border-bottom-left-radius: 0.8rem;\r\n    border-bottom-right-radius: 0.8rem;\r\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\r\n\r\n    div.actions {\r\n      width: 100%;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 1rem;\r\n    }\r\n\r\n    div.rest-side {\r\n      margin-left: auto;\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport Button from \"../../../../app/components/Button\";\r\nimport { Activity } from \"../../../../app/models/activity\";\r\n\r\nimport { Container } from \"./styles\";\r\nimport useStore from \"../../../../app/stores/useStore\";\r\nimport { Label } from \"semantic-ui-react\";\r\n\r\ninterface HeaderProps {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function Header({ activity }: HeaderProps) {\r\n  const { activityStore } = useStore();\r\n  const { updateAttendance, loading, cancelActivityToggle } = activityStore;\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"content\">\r\n        {activity.isCancelled && (\r\n          <Label\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 1000,\r\n              left: -14,\r\n              top: 20,\r\n            }}\r\n            ribbon\r\n            color=\"red\"\r\n            content=\"Cancelled\"\r\n          />\r\n        )}\r\n        <img\r\n          src={`/assets/categoryImages/${activity.category}.jpg`}\r\n          alt={activity.category}\r\n        />\r\n        <div className=\"hover-image\">\r\n          <h1>{activity.title}</h1>\r\n          <span>{format(activity.date!, \"dd MMM yyyy\")}</span>\r\n          <span className=\"hostedBy\">\r\n            Hosted by{\" \"}\r\n            <span>\r\n              <Link to={`/profiles/${activity.host?.userName}`}>\r\n                {activity.host?.displayName}\r\n              </Link>\r\n            </span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer\">\r\n        <div className=\"actions\">\r\n          {activity.isHost ? (\r\n            <>\r\n              <Button\r\n                situation={activity.isCancelled ? \"positive\" : \"negative\"}\r\n                onClick={cancelActivityToggle}\r\n                loading={loading}\r\n              >\r\n                {activity.isCancelled\r\n                  ? \"Re-activate Activity\"\r\n                  : \"Cancel Activity\"}\r\n              </Button>\r\n              <div className=\"rest-side\">\r\n                <Link to={`/manage/${activity.id}`}>\r\n                  <Button situation=\"master\" disabled={activity.isCancelled}>\r\n                    Manage event\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            </>\r\n          ) : activity.isGoing ? (\r\n            <Button\r\n              situation=\"none\"\r\n              loading={loading}\r\n              onClick={updateAttendance}\r\n            >\r\n              Cancel attendance\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              situation=\"default\"\r\n              loading={loading}\r\n              onClick={updateAttendance}\r\n              disabled={activity.isCancelled}\r\n            >\r\n              Join activity\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: information;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-radius: 0.5rem;\r\n  background-color: #fff;\r\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\r\n\r\n  div.content {\r\n    padding: 1.4rem 2rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    font-size: 1.5rem;\r\n    font-weight: 500;\r\n\r\n    & + div {\r\n      border-top: 2px solid #e6e6e6;\r\n    }\r\n\r\n    svg {\r\n      color: #03aba4;\r\n      margin-right: 2rem;\r\n    }\r\n  }\r\n`;\r\n","import { FiInfo, FiCalendar, FiMapPin } from \"react-icons/fi\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport { Activity } from \"../../../../app/models/activity\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface InformationProps {\r\n  activity: Activity;\r\n}\r\n\r\nexport default function Information({ activity }: InformationProps) {\r\n  return (\r\n    <Container>\r\n      <div className=\"content\">\r\n        <FiInfo />\r\n        {activity.description}\r\n      </div>\r\n      <div className=\"content\">\r\n        <FiCalendar />\r\n        {format(activity.date!, \"dd MMM yyyy\")}\r\n      </div>\r\n      <div className=\"content\">\r\n        <FiMapPin />\r\n        {activity.venue}, {activity.city}\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  grid-area: sideBar;\r\n\r\n  height: fit-content;\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\r\n\r\n  header {\r\n    padding: 1rem;\r\n    border-top-left-radius: 0.8rem;\r\n    border-top-right-radius: 0.8rem;\r\n    background-color: #03aba4;\r\n    text-align: center;\r\n    color: #fff;\r\n    font-size: 1.4rem;\r\n    font-weight: 500;\r\n  }\r\n\r\n  div.container-people {\r\n    padding: 1rem;\r\n    background-color: #fff;\r\n\r\n    div.content {\r\n      position: relative;\r\n      display: flex;\r\n      flex-direction: row;\r\n      gap: 1rem;\r\n\r\n      div.left-side {\r\n        img {\r\n          height: 80px;\r\n        }\r\n      }\r\n\r\n      div.rest-side {\r\n        flex: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n\r\n        h3 {\r\n          color: #1e6799;\r\n          font-size: 1.6rem;\r\n          font-weight: bold;\r\n          margin-bottom: 0.4rem;\r\n        }\r\n\r\n        span {\r\n          font-weight: 500;\r\n          font-size: 1.4rem;\r\n          color: #ffbe41;\r\n        }\r\n      }\r\n\r\n      div.hosted {\r\n        position: absolute;\r\n        right: -4rem;\r\n        bottom: 3.5rem;\r\n        padding: 0.5rem 2rem;\r\n        color: #fff;\r\n        background-color: #f1651e;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Activity } from \"../../../../app/models/activity\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface SideBarProps {\r\n  activity: Activity;\r\n}\r\n\r\nexport default observer(function SideBar({\r\n  activity: { attendees, host },\r\n}: SideBarProps) {\r\n  if (!attendees) return null;\r\n\r\n  return (\r\n    <Container>\r\n      <header>\r\n        {attendees.length} {attendees.length === 1 ? \"Person\" : \"People\"}\r\n      </header>\r\n\r\n      <div className=\"container-people\">\r\n        {attendees.map((attendee) => (\r\n          <div className=\"content\" key={attendee.userName}>\r\n            <div className=\"left-side\">\r\n              <img\r\n                src={attendee.image || \"/assets/user.png\"}\r\n                alt={attendee.userName}\r\n              />\r\n            </div>\r\n            <div className=\"rest-side\">\r\n              <Link to={`/profiles/${attendee.userName}`}>\r\n                <h3>{attendee.displayName}</h3>\r\n              </Link>\r\n              {attendee.following && <span>Following</span>}\r\n            </div>\r\n            {attendee.userName === host?.userName && (\r\n              <div className=\"hosted\">\r\n                <span>Host</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 300px;\r\n  grid-template-areas:\r\n    \"header sideBar\"\r\n    \"information sideBar\"\r\n    \"chat sideBar\";\r\n  grid-gap: 2rem;\r\n`;\r\n","import { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport Chat from \"./Chat\";\r\nimport Header from \"./Header\";\r\nimport Information from \"./Information\";\r\nimport SideBar from \"./SideBar\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport Loading from \"../../../app/components/Loading\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ActivityDetailsParams {\r\n  id: string;\r\n}\r\n\r\nexport default observer(function ActivityDetails() {\r\n  const { activityStore } = useStore();\r\n  const {\r\n    selectedActivity: activity,\r\n    loadActivity,\r\n    loadingInitial,\r\n    clearSelectedActivity,\r\n  } = activityStore;\r\n  const { id } = useParams<ActivityDetailsParams>();\r\n\r\n  useEffect(() => {\r\n    if (id) loadActivity(id);\r\n\r\n    return () => {\r\n      clearSelectedActivity();\r\n    };\r\n  }, [id, loadActivity, clearSelectedActivity]);\r\n\r\n  if (loadingInitial || !activity) return <Loading />;\r\n\r\n  return (\r\n    <Container>\r\n      <Header {...{ activity }} />\r\n      <Information {...{ activity }} />\r\n      <Chat {...{ activityId: activity.id }} />\r\n      <SideBar {...{ activity }} />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\ninterface ContentProps {\r\n  isLoggedIn: boolean;\r\n}\r\n\r\nexport const Container = styled.div`\r\n  flex: 1;\r\n  background-image: linear-gradient(\r\n    135deg,\r\n    rgb(24, 42, 115) 0%,\r\n    rgb(33, 138, 174) 69%,\r\n    rgb(32, 167, 172) 89%\r\n  );\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 3rem;\r\n  color: #fff;\r\n\r\n  h1 {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    gap: 1rem;\r\n    font-size: 6rem;\r\n\r\n    img {\r\n      height: 60px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Content = styled.div<ContentProps>`\r\n  display: flex;\r\n  flex-direction: ${(props) => (props.isLoggedIn ? \"column\" : \"row\")};\r\n  gap: 1rem;\r\n  text-align: center;\r\n\r\n  h2 {\r\n    font-size: 2.6rem;\r\n  }\r\n\r\n  button {\r\n    padding: 1.4rem 6rem;\r\n    color: #fff;\r\n    font-size: 2rem;\r\n    background-color: transparent;\r\n    font-weight: 500;\r\n    border: 2px solid #fff;\r\n    border-radius: 0.8rem;\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport useStore from \"../../app/stores/useStore\";\r\n\r\nimport { Container, Content } from \"./styles\";\r\n\r\nexport default observer(function Home() {\r\n  const { userStore } = useStore();\r\n  const { isLoggedIn } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <h1>\r\n        <img src=\"/assets/logo.png\" alt=\"logo\" />\r\n        Reactivities\r\n      </h1>\r\n      <Content {...{ isLoggedIn }}>\r\n        {isLoggedIn ? (\r\n          <>\r\n            <h2>Welcome to Reactivities</h2>\r\n\r\n            <Link to=\"/activities\">\r\n              <button>Go to Activities</button>\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to=\"/login\">\r\n              <button>Login</button>\r\n            </Link>\r\n\r\n            <Link to=\"/register\">\r\n              <button>Register</button>\r\n            </Link>\r\n          </>\r\n        )}\r\n      </Content>\r\n    </Container>\r\n  );\r\n});\r\n","import { Message } from \"semantic-ui-react\";\r\n\r\ninterface ValidationErrorsProps {\r\n  errors: any;\r\n}\r\n\r\nexport default function ValidationErrors({ errors }: ValidationErrorsProps) {\r\n  return (\r\n    <Message error>\r\n      <Message.List>\r\n        {errors.map((error: any, i: any) => (\r\n          <Message.Item key={i}>{error}</Message.Item>\r\n        ))}\r\n      </Message.List>\r\n    </Message>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Button, Header, Segment } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport ValidationErrors from \"./ValidationErrors\";\r\n\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nexport default function TestErrors() {\r\n  const [errors, setErrors] = useState(null);\r\n\r\n  function handleNotFound() {\r\n    axios\r\n      .get(baseUrl + \"buggy/not-found\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadRequest() {\r\n    axios\r\n      .get(baseUrl + \"buggy/bad-request\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleServerError() {\r\n    axios\r\n      .get(baseUrl + \"buggy/server-error\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleUnauthorised() {\r\n    axios\r\n      .get(baseUrl + \"buggy/unauthorised\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleBadGuid() {\r\n    axios\r\n      .get(baseUrl + \"activities/notaguid\")\r\n      .catch((err) => console.log(err.response));\r\n  }\r\n\r\n  function handleValidationError() {\r\n    axios.post(baseUrl + \"activities\", {}).catch((err) => setErrors(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Header as=\"h1\" content=\"Test Error component\" />\r\n      <Segment>\r\n        <Button.Group widths=\"7\">\r\n          <Button onClick={handleNotFound} content=\"Not Found\" basic primary />\r\n          <Button\r\n            onClick={handleBadRequest}\r\n            content=\"Bad Request\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleValidationError}\r\n            content=\"Validation Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleServerError}\r\n            content=\"Server Error\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button\r\n            onClick={handleUnauthorised}\r\n            content=\"Unauthorised\"\r\n            basic\r\n            primary\r\n          />\r\n          <Button onClick={handleBadGuid} content=\"Bad Guid\" basic primary />\r\n        </Button.Group>\r\n      </Segment>\r\n\r\n      {errors && <ValidationErrors errors={errors} />}\r\n    </>\r\n  );\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin: 2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n  background-color: #fff;\r\n  border-radius: 0.8rem;\r\n  border: 0.2rem solid #e6e6f0;\r\n  padding: 6rem;\r\n  text-align: center;\r\n\r\n  h1 {\r\n    margin: 0;\r\n  }\r\n\r\n  button {\r\n    background-color: #2378cc;\r\n    color: #fff;\r\n    padding: 1rem 2rem;\r\n    border-radius: 0.8rem;\r\n    border: 0;\r\n    font-size: 1.4rem;\r\n    font-weight: 500;\r\n\r\n    transition: filter 0.2s;\r\n\r\n    &:hover {\r\n      filter: brightness(0.9);\r\n    }\r\n  }\r\n`;\r\n","import { FiSearch } from \"react-icons/fi\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Container>\r\n      <FiSearch size={60} />\r\n      <h1>Oops - we've locked everywhere and could not find this.</h1>\r\n      <Link to=\"/activities\">\r\n        <button>Return to activities page</button>\r\n      </Link>\r\n    </Container>\r\n  );\r\n}\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Container, Header, Segment } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nexport default observer(function ServerError() {\r\n  const { commonStore } = useStore();\r\n  const { error } = commonStore;\r\n\r\n  return (\r\n    <Container>\r\n      <Header as=\"h1\" content=\"Server Error\" />\r\n      <Header sub as=\"h5\" color=\"red\" content={error?.message} />\r\n\r\n      {error?.details && (\r\n        <Segment>\r\n          <Header as=\"h4\" content=\"Stack trace\" color=\"teal\" />\r\n          <code style={{ marginTop: \"1rem\" }}>{error.details}</code>\r\n        </Segment>\r\n      )}\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Label } from \"semantic-ui-react\";\r\n\r\nimport Button from \"../../../app/components/Button\";\r\nimport Input from \"../../../app/components/Input\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nexport default observer(function LoginForm() {\r\n  const { userStore } = useStore();\r\n  const { login } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <Formik\r\n        initialValues={{\r\n          email: \"\",\r\n          password: \"\",\r\n          error: null,\r\n        }}\r\n        onSubmit={(values, { setErrors }) =>\r\n          login(values).catch((err) =>\r\n            setErrors({ error: \"Invalid email or password\" })\r\n          )\r\n        }\r\n      >\r\n        {({ handleSubmit, isSubmitting, errors }) => (\r\n          <Form onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <h1>Sign In to Reactivities</h1>\r\n            <Input name=\"email\" placeholder=\"E-mail\" />\r\n            <Input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n            <ErrorMessage\r\n              name=\"error\"\r\n              render={() => (\r\n                <Label\r\n                  style={{ marginBottom: \"1rem\" }}\r\n                  color=\"red\"\r\n                  content={errors.error}\r\n                />\r\n              )}\r\n            />\r\n            <Button loading={isSubmitting} situation=\"positive\" type=\"submit\">\r\n              Login\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  form {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n  }\r\n`;\r\n","import { ErrorMessage, Form, Formik } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport ValidationErrors from \"../../errors/ValidationErrors\";\r\nimport Button from \"../../../app/components/Button\";\r\nimport Input from \"../../../app/components/Input\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\nconst formValidation = Yup.object({\r\n  displayName: Yup.string().required(\"Display name is required\"),\r\n  userName: Yup.string().required(\"Username is required\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\r\n  password: Yup.string().required(\"Password is required\"),\r\n});\r\n\r\nexport default observer(function RegisterForm() {\r\n  const { userStore } = useStore();\r\n  const { register } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <Formik\r\n        initialValues={{\r\n          displayName: \"\",\r\n          userName: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: null,\r\n        }}\r\n        onSubmit={(values, { setErrors }) =>\r\n          register(values).catch((error) => setErrors({ error }))\r\n        }\r\n        validationSchema={formValidation}\r\n      >\r\n        {({ handleSubmit, isSubmitting, errors, isValid, dirty }) => (\r\n          <Form className=\"error\" onSubmit={handleSubmit} autoComplete=\"off\">\r\n            <h1>Sign Up to Reactivities</h1>\r\n            <Input name=\"displayName\" placeholder=\"Display name\" />\r\n            <Input name=\"userName\" placeholder=\"Username\" />\r\n            <Input name=\"email\" type=\"email\" placeholder=\"E-mail\" />\r\n            <Input name=\"password\" type=\"password\" placeholder=\"Password\" />\r\n            <ErrorMessage\r\n              name=\"error\"\r\n              render={() => <ValidationErrors errors={errors.error} />}\r\n            />\r\n            <Button\r\n              loading={isSubmitting}\r\n              disabled={!isValid || !dirty || isSubmitting}\r\n              situation=\"positive\"\r\n              type=\"submit\"\r\n            >\r\n              Register\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  .content {\r\n    display: flex !important;\r\n    align-items: center;\r\n  }\r\n\r\n  .four.wide.column {\r\n    display: flex !important;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .two {\r\n      width: 100%;\r\n      display: flex !important;\r\n      flex-direction: row;\r\n\r\n      div.value {\r\n        font-size: 6rem !important;\r\n      }\r\n\r\n      div.label {\r\n        font-size: 1.6rem !important;\r\n      }\r\n    }\r\n\r\n    .divider {\r\n      width: 100%;\r\n    }\r\n\r\n    .reveal {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Item,\r\n  Segment,\r\n  Statistic,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../app/models/profile\";\r\nimport FollowButton from \"./FollowButton\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ProfileHeaderProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfileHeader({\r\n  profile,\r\n}: ProfileHeaderProps) {\r\n  return (\r\n    <Container>\r\n      <Segment>\r\n        <Grid>\r\n          <Grid.Column width={12}>\r\n            <Item.Group>\r\n              <Item>\r\n                <Item.Image\r\n                  avatar\r\n                  size=\"small\"\r\n                  src={profile.image || \"/assets/user.png\"}\r\n                />\r\n                <Item.Content>\r\n                  <Header as=\"h1\" content={profile.displayName} />\r\n                </Item.Content>\r\n              </Item>\r\n            </Item.Group>\r\n          </Grid.Column>\r\n          <Grid.Column width={4}>\r\n            <Statistic.Group widths={2}>\r\n              <Statistic label=\"Followers\" value={profile.followersCount} />\r\n              <Statistic label=\"Following\" value={profile.followingCount} />\r\n            </Statistic.Group>\r\n            <Divider />\r\n            <FollowButton {...{ profile }} />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n    </Container>\r\n  );\r\n});\r\n","import { Form, Formik } from \"formik\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Button } from \"semantic-ui-react\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport Input from \"../../../app/components/Input\";\r\nimport Textarea from \"../../../app/components/Textarea\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\ninterface Props {\r\n  handleToggleEditMode: () => void;\r\n}\r\n\r\nconst schema = Yup.object({\r\n  displayName: Yup.string().required(),\r\n});\r\n\r\nexport default observer(function ProfileEditForm({\r\n  handleToggleEditMode,\r\n}: Props) {\r\n  const {\r\n    profileStore: { profile, updateProfile },\r\n  } = useStore();\r\n  return (\r\n    <Formik\r\n      initialValues={{ displayName: profile?.displayName, bio: profile?.bio }}\r\n      onSubmit={(values) => {\r\n        updateProfile(values).then(() => {\r\n          handleToggleEditMode();\r\n        });\r\n      }}\r\n      validationSchema={schema}\r\n    >\r\n      {({ isSubmitting, isValid, dirty }) => (\r\n        <Form className=\"ui form\">\r\n          <Input placeholder=\"Display Name\" name=\"displayName\" />\r\n          <Textarea rows={3} placeholder=\"Add your bio\" name=\"bio\" />\r\n          <Button\r\n            positive\r\n            type=\"submit\"\r\n            loading={isSubmitting}\r\n            content=\"Update profile\"\r\n            floated=\"right\"\r\n            disabled={!isValid || !dirty}\r\n          />\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n});\r\n","import { useCallback, useState } from \"react\";\r\nimport { Button, Grid, Header, Tab } from \"semantic-ui-react\";\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nimport ProfileEditForm from \"../ProfileEditForm\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nexport default observer(function ProfileAbout() {\r\n  const { profileStore } = useStore();\r\n  const { isCurrentUser, profile } = profileStore;\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const handleToggleEditMode = useCallback(() => {\r\n    setEditMode((value) => !value);\r\n  }, []);\r\n\r\n  return (\r\n    <Tab.Pane>\r\n      <Grid>\r\n        <Grid.Column width=\"16\">\r\n          <Header\r\n            floated=\"left\"\r\n            icon=\"user\"\r\n            content={`About ${profile?.displayName}`}\r\n          />\r\n          {isCurrentUser && (\r\n            <Button\r\n              floated=\"right\"\r\n              basic\r\n              content={editMode ? \"Cancel\" : \"Edit Profile\"}\r\n              onClick={() => setEditMode(!editMode)}\r\n            />\r\n          )}\r\n        </Grid.Column>\r\n        <Grid.Column width=\"16\">\r\n          {editMode ? (\r\n            <ProfileEditForm {...{ handleToggleEditMode }} />\r\n          ) : (\r\n            <span style={{ whiteSpace: \"pre-wrap\" }}>{profile?.bio}</span>\r\n          )}\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import { SyntheticEvent, useEffect } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Tab, Grid, Header, Card, Image, TabProps } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport { UserActivity } from \"../../../app/models/profile\";\r\n\r\nconst panes = [\r\n  { menuItem: \"Future Events\", pane: { key: \"future\" } },\r\n  { menuItem: \"Past Events\", pane: { key: \"past\" } },\r\n  { menuItem: \"Hosting\", pane: { key: \"hosting\" } },\r\n];\r\n\r\nexport default observer(function ProfileActivities() {\r\n  const { profileStore } = useStore();\r\n  const { loadUserActivities, profile, loadingActivities, userActivities } =\r\n    profileStore;\r\n\r\n  useEffect(() => {\r\n    loadUserActivities(profile!.userName);\r\n  }, [loadUserActivities, profile]);\r\n\r\n  const handleTabChange = (e: SyntheticEvent, data: TabProps) => {\r\n    loadUserActivities(\r\n      profile!.userName,\r\n      panes[data.activeIndex as number].pane.key\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Tab.Pane loading={loadingActivities}>\r\n      <Grid>\r\n        <Grid.Column width={16}>\r\n          <Header floated=\"left\" icon=\"calendar\" content={\"Activities\"} />\r\n        </Grid.Column>\r\n        <Grid.Column width={16}>\r\n          <Tab\r\n            panes={panes}\r\n            menu={{ secondary: true, pointing: true }}\r\n            onTabChange={(e, data) => handleTabChange(e, data)}\r\n          />\r\n          <br />\r\n          <Card.Group itemsPerRow={4}>\r\n            {userActivities.map((activity: UserActivity) => (\r\n              <Card\r\n                as={Link}\r\n                to={`/activities/${activity.id}`}\r\n                key={activity.id}\r\n              >\r\n                <Image\r\n                  src={`/assets/categoryImages/${activity.category}.jpg`}\r\n                  style={{ minHeight: 100, objectFit: \"cover\" }}\r\n                />\r\n                <Card.Content>\r\n                  <Card.Header textAlign=\"center\">{activity.title}</Card.Header>\r\n                  <Card.Meta textAlign=\"center\">\r\n                    <div>{format(new Date(activity.date), \"do LLL\")}</div>\r\n                    <div>{format(new Date(activity.date), \"h:mm a\")}</div>\r\n                  </Card.Meta>\r\n                </Card.Content>\r\n              </Card>\r\n            ))}\r\n          </Card.Group>\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Card, Grid, Header, Tab } from \"semantic-ui-react\";\r\n\r\nimport ProfileCard from \"../ProfileCard\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\n\r\nexport default observer(function ProfileFollowings() {\r\n  const { profileStore } = useStore();\r\n  const { profile, followings, loadingFollowings, activeTab } = profileStore;\r\n\r\n  return (\r\n    <Tab.Pane loading={loadingFollowings}>\r\n      <Grid>\r\n        <Grid.Column width={16}>\r\n          <Header\r\n            floated=\"left\"\r\n            icon=\"user\"\r\n            content={\r\n              activeTab === 3\r\n                ? `People following ${profile?.displayName}`\r\n                : `People ${profile?.displayName} is following`\r\n            }\r\n          />\r\n        </Grid.Column>\r\n        <Grid.Column width={16}>\r\n          <Card.Group itemsPerRow={4}>\r\n            {followings.map((profile) => (\r\n              <ProfileCard key={profile.userName} {...{ profile }} />\r\n            ))}\r\n          </Card.Group>\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import { Cropper } from \"react-cropper\";\r\nimport \"cropperjs/dist/cropper.css\";\r\n\r\ninterface PhotoWidgetCropperProps {\r\n  imagePreview: string;\r\n  handleSetCropper: (cropper: Cropper) => void;\r\n}\r\n\r\nexport default function PhotoWidgetCropper({\r\n  imagePreview,\r\n  handleSetCropper,\r\n}: PhotoWidgetCropperProps) {\r\n  return (\r\n    <Cropper\r\n      src={imagePreview}\r\n      style={{\r\n        height: 200,\r\n        width: \"100%\",\r\n      }}\r\n      initialAspectRatio={1}\r\n      aspectRatio={1}\r\n      preview=\".img-preview\"\r\n      guides={false}\r\n      viewMode={1}\r\n      autoCropArea={1}\r\n      background={false}\r\n      onInitialized={handleSetCropper}\r\n    />\r\n  );\r\n}\r\n","import { useCallback, CSSProperties } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { Header, Icon } from \"semantic-ui-react\";\r\n\r\ninterface PhotoWidgetDropzoneProps {\r\n  handleSetFiles: (files: any) => void;\r\n}\r\n\r\nexport default function PhotoWidgetDropzone({\r\n  handleSetFiles,\r\n}: PhotoWidgetDropzoneProps) {\r\n  const dzStyles: CSSProperties = {\r\n    border: \"dashed 3px #eee\",\r\n    borderColor: \"#eee\",\r\n    borderRadius: \"0.5rem\",\r\n    paddingTop: \"3rem\",\r\n    textAlign: \"center\",\r\n    height: 200,\r\n  };\r\n\r\n  const dzActive: CSSProperties = {\r\n    borderColor: \"green\",\r\n  };\r\n\r\n  const onDrop = useCallback(\r\n    (acceptedFiles) => {\r\n      handleSetFiles(\r\n        acceptedFiles.map((file: any) =>\r\n          Object.assign(file, {\r\n            preview: URL.createObjectURL(file),\r\n          })\r\n        )\r\n      );\r\n    },\r\n    [handleSetFiles]\r\n  );\r\n\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <div\r\n      {...getRootProps()}\r\n      style={\r\n        isDragActive\r\n          ? {\r\n              ...dzStyles,\r\n              ...dzActive,\r\n            }\r\n          : dzStyles\r\n      }\r\n    >\r\n      <input {...getInputProps()} />\r\n      <Icon name=\"upload\" size=\"huge\" />\r\n      <Header content=\"Drop image here\" />\r\n    </div>\r\n  );\r\n}\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { Button, Grid, Header } from \"semantic-ui-react\";\r\n\r\nimport PhotoWidgetCropper from \"./PhotoWidgetCropper\";\r\nimport PhotoWidgetDropzone from \"./PhotoWidgetDropzone\";\r\n\r\ninterface PhotoUploadWidgetProps {\r\n  uploading: boolean;\r\n  handlePhotoUpload: (file: Blob) => void;\r\n}\r\n\r\nexport default function PhotoUploadWidget({\r\n  uploading,\r\n  handlePhotoUpload,\r\n}: PhotoUploadWidgetProps) {\r\n  const [files, setFiles] = useState<any>([]);\r\n  const [cropper, setCropper] = useState<Cropper>();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      files.forEach((file: any) => URL.revokeObjectURL(file.preview));\r\n    };\r\n  }, [files]);\r\n\r\n  const handleSetFiles = useCallback((files: any) => {\r\n    setFiles(files);\r\n  }, []);\r\n\r\n  const handleSetCropper = useCallback((cropper: any) => {\r\n    setCropper(cropper);\r\n  }, []);\r\n\r\n  const onCrop = useCallback(() => {\r\n    if (cropper) {\r\n      cropper.getCroppedCanvas().toBlob((blob) => {\r\n        handlePhotoUpload(blob!);\r\n      });\r\n    }\r\n  }, [cropper, handlePhotoUpload]);\r\n\r\n  return (\r\n    <Grid>\r\n      <Grid.Column width={4}>\r\n        <Header sub color=\"teal\" content=\"Step 1 - Add Photo\" />\r\n        <PhotoWidgetDropzone {...{ handleSetFiles }} />\r\n      </Grid.Column>\r\n      <Grid.Column width={1} />\r\n      <Grid.Column width={4}>\r\n        <Header sub color=\"teal\" content=\"Step 2 - Resize Image\" />\r\n        {files && files.length > 0 && (\r\n          <PhotoWidgetCropper\r\n            {...{ handleSetCropper, imagePreview: files[0].preview }}\r\n          />\r\n        )}\r\n      </Grid.Column>\r\n      <Grid.Column width={1} />\r\n      <Grid.Column width={4}>\r\n        <Header sub color=\"teal\" content=\"Step 3 - Preview & Upload\" />\r\n\r\n        {files && files.length > 0 && (\r\n          <>\r\n            <div\r\n              className=\"img-preview\"\r\n              style={{ minHeight: 200, overflow: \"hidden\" }}\r\n            />\r\n            <Button.Group className=\"imgPreview\">\r\n              <Button\r\n                loading={uploading}\r\n                onClick={onCrop}\r\n                positive\r\n                icon=\"check\"\r\n              />\r\n              <Button\r\n                disabled={uploading}\r\n                onClick={() => setFiles([])}\r\n                icon=\"close\"\r\n              />\r\n            </Button.Group>\r\n          </>\r\n        )}\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n}\r\n","import { SyntheticEvent, useState } from \"react\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\r\n\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport { Photo, Profile } from \"../../../app/models/profile\";\r\nimport PhotoUploadWidget from \"../../../app/components/PhotoUploadWidget\";\r\n\r\ninterface ProfilePhotosProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfilePhotos({\r\n  profile,\r\n}: ProfilePhotosProps) {\r\n  const { profileStore } = useStore();\r\n  const {\r\n    isCurrentUser,\r\n    uploadPhoto,\r\n    uploading,\r\n    loading,\r\n    setMainPhoto,\r\n    deletePhoto,\r\n  } = profileStore;\r\n\r\n  const [addPhotoMode, setAddPhotoMode] = useState(false);\r\n  const [target, setTarget] = useState(\"\");\r\n\r\n  function handleToggleAddPhotoMode() {\r\n    setAddPhotoMode((value) => !value);\r\n  }\r\n\r\n  function handlePhotoUpload(file: Blob) {\r\n    uploadPhoto(file).then(() => handleToggleAddPhotoMode());\r\n  }\r\n\r\n  function handleSetMainPhoto(\r\n    photo: Photo,\r\n    event: SyntheticEvent<HTMLButtonElement>\r\n  ) {\r\n    setTarget(event.currentTarget.name);\r\n    setMainPhoto(photo);\r\n  }\r\n\r\n  function handleDeletePhoto(\r\n    photo: Photo,\r\n    event: SyntheticEvent<HTMLButtonElement>\r\n  ) {\r\n    setTarget(event.currentTarget.name);\r\n    deletePhoto(photo);\r\n  }\r\n\r\n  return (\r\n    <Tab.Pane>\r\n      <Grid>\r\n        <Grid.Column width={16}>\r\n          <Header floated=\"left\" icon=\"image\" content=\"Photos\" />\r\n          {isCurrentUser && (\r\n            <Button\r\n              floated=\"right\"\r\n              basic\r\n              content={addPhotoMode ? \"Cancel\" : \"Add Photo\"}\r\n              onClick={handleToggleAddPhotoMode}\r\n            />\r\n          )}\r\n        </Grid.Column>\r\n        <Grid.Column width={16}>\r\n          {addPhotoMode ? (\r\n            <PhotoUploadWidget {...{ uploading, handlePhotoUpload }} />\r\n          ) : (\r\n            <Card.Group itemsPerRow={5}>\r\n              {profile.photos?.map((photo) => (\r\n                <Card key={photo.id}>\r\n                  <Image src={photo.url || \"/assets/user.png\"} />\r\n                  {isCurrentUser && (\r\n                    <Button.Group fluid widths={2}>\r\n                      <Button\r\n                        basic\r\n                        color=\"green\"\r\n                        content=\"Main\"\r\n                        name={`main-${photo.id}`}\r\n                        loading={target === `main-${photo.id}` && loading}\r\n                        onClick={(e) => handleSetMainPhoto(photo, e)}\r\n                        disabled={photo.isMain}\r\n                      />\r\n                      <Button\r\n                        basic\r\n                        color=\"red\"\r\n                        icon=\"trash\"\r\n                        name={`delete-${photo.id}`}\r\n                        loading={target === `delete-${photo.id}` && loading}\r\n                        onClick={(e) => handleDeletePhoto(photo, e)}\r\n                        disabled={photo.isMain}\r\n                      />\r\n                    </Button.Group>\r\n                  )}\r\n                </Card>\r\n              ))}\r\n            </Card.Group>\r\n          )}\r\n        </Grid.Column>\r\n      </Grid>\r\n    </Tab.Pane>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Tab } from \"semantic-ui-react\";\r\n\r\nimport { Profile } from \"../../../app/models/profile\";\r\nimport useStore from \"../../../app/stores/useStore\";\r\nimport ProfileAbout from \"../ProfileAbout\";\r\nimport ProfileActivities from \"../ProfileActivities\";\r\nimport ProfileFollowings from \"../ProfileFollowings\";\r\nimport ProfilePhotos from \"../ProfilePhotos\";\r\n\r\nimport { Container } from \"./styles\";\r\n\r\ninterface ProfileContentProps {\r\n  profile: Profile;\r\n}\r\n\r\nexport default observer(function ProfileContent({\r\n  profile,\r\n}: ProfileContentProps) {\r\n  const { profileStore } = useStore();\r\n  const { setActiveTab } = profileStore;\r\n\r\n  const panes = [\r\n    { menuItem: \"About\", render: () => <ProfileAbout /> },\r\n    { menuItem: \"Photos\", render: () => <ProfilePhotos {...{ profile }} /> },\r\n    { menuItem: \"Events\", render: () => <ProfileActivities /> },\r\n    {\r\n      menuItem: \"Following\",\r\n      render: () => <ProfileFollowings {...{ profile }} />,\r\n    },\r\n    {\r\n      menuItem: \"Followers\",\r\n      render: () => <ProfileFollowings {...{ profile }} />,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Container>\r\n      <Tab\r\n        menu={{ fluid: true, vertical: true }}\r\n        menuPosition=\"right\"\r\n        panes={panes}\r\n        onTabChange={(e, data) => setActiveTab(data.activeIndex)}\r\n      />\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2rem;\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport useStore from \"../../app/stores/useStore\";\r\nimport Loading from \"../../app/components/Loading\";\r\nimport ProfileHeader from \"./ProfileHeader\";\r\nimport ProfileContent from \"./ProfileContent\";\r\n\r\nimport { Container } from \"./styles\";\r\nimport { useEffect } from \"react\";\r\n\r\ninterface ProfileParams {\r\n  userName: string;\r\n}\r\n\r\nexport default observer(function Profile() {\r\n  const { userName } = useParams<ProfileParams>();\r\n  const { profileStore } = useStore();\r\n  const { loadingProfile, loadProfile, profile, setActiveTab } = profileStore;\r\n\r\n  useEffect(() => {\r\n    loadProfile(userName);\r\n\r\n    return () => {\r\n      setActiveTab(0);\r\n    };\r\n  }, [loadProfile, userName, setActiveTab]);\r\n\r\n  if (loadingProfile) return <Loading content=\"Loading profile...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      {profile && (\r\n        <>\r\n          <ProfileHeader {...{ profile }} />\r\n          <ProfileContent {...{ profile }} />\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-image: linear-gradient(\r\n    135deg,\r\n    rgb(24, 42, 115) 0%,\r\n    rgb(33, 138, 174) 69%,\r\n    rgb(32, 167, 172) 89%\r\n  );\r\n\r\n  nav {\r\n    height: 52px;\r\n    max-width: 1120px;\r\n    margin: 0 auto;\r\n    padding: 2rem;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    div.activities {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n\r\n      color: #fff;\r\n\r\n      img {\r\n        margin-right: 1rem;\r\n        width: 35px;\r\n        height: 35px;\r\n      }\r\n    }\r\n\r\n    div.menu {\r\n      margin-left: 4rem;\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: center;\r\n      gap: 2rem;\r\n\r\n      div.cover {\r\n        a {\r\n          color: #fff;\r\n          font-size: 1.4rem;\r\n\r\n          transition: filter 0.2s;\r\n\r\n          &:hover {\r\n            filter: brightness(0.9);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    div.user {\r\n      margin-left: auto;\r\n\r\n      .ui.dropdown > .divider,\r\n      .ui.dropdown > .dropdown.icon:before {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import { observer } from \"mobx-react-lite\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Dropdown, Image } from \"semantic-ui-react\";\r\n\r\nimport Button from \"../components/Button\";\r\nimport useStore from \"../stores/useStore\";\r\n\r\nimport { Container } from \"../styles/NavBar\";\r\n\r\nexport default observer(function Navbar() {\r\n  const { userStore } = useStore();\r\n  const { user, isLoggedIn, logout } = userStore;\r\n\r\n  return (\r\n    <Container>\r\n      <nav>\r\n        <Link to=\"/\">\r\n          <div className=\"activities\">\r\n            <img src=\"/assets/logo.png\" alt=\"logo\" />\r\n            Reactivities\r\n          </div>\r\n        </Link>\r\n        <div className=\"menu\">\r\n          <div className=\"cover\">\r\n            <Link to=\"/activities\">Activities</Link>\r\n          </div>\r\n          <div className=\"cover\">\r\n            <Link to=\"/errors\">Errors</Link>\r\n          </div>\r\n          <div className=\"cover\">\r\n            <Link to=\"/createActivity\">\r\n              <Button situation=\"positive\">Create Activity</Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        {isLoggedIn && user && (\r\n          <div className=\"user\">\r\n            <Image\r\n              src={user?.image || \"/assets/user.png\"}\r\n              alt={user?.userName}\r\n              avatar\r\n              spaced=\"right\"\r\n              className=\"user-image\"\r\n            />\r\n            <Dropdown pointing=\"top left\" text={user?.displayName}>\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item\r\n                  as={Link}\r\n                  to={`/profiles/${user?.userName}`}\r\n                  text=\"My profile\"\r\n                  icon=\"user\"\r\n                />\r\n                <Dropdown.Item onClick={logout} text=\"Logout\" icon=\"power\" />\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    </Container>\r\n  );\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  flex: 1;\r\n  background-color: #eaeaea;\r\n`;\r\n\r\nexport const Content = styled.div`\r\n  max-width: 1120px;\r\n  margin: 0 auto;\r\n  margin-top: 5rem;\r\n`;\r\n","import { Route, Switch, useLocation } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport useStore from \"../stores/useStore\";\r\n\r\nimport PrivateRoute from \"./PrivateRoute\";\r\nimport Loading from \"../components/Loading\";\r\nimport ActivityDashboard from \"../../features/activities\";\r\nimport ActivityForm from \"../../features/activities/ActivityForm\";\r\nimport ActivityDetails from \"../../features/activities/ActivityDetails\";\r\nimport Home from \"../../features/Home\";\r\nimport TestErrors from \"../../features/errors/TestError\";\r\nimport NotFound from \"../../features/errors/NotFound\";\r\nimport ServerError from \"../../features/errors/ServerError\";\r\nimport LoginForm from \"../../features/users/LoginForm\";\r\nimport RegisterForm from \"../../features/users/RegisterForm\";\r\nimport Profile from \"../../features/profiles\";\r\nimport Navbar from \"./NavBar\";\r\n\r\nimport { Container, Background, Content } from \"../styles/App\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default observer(function App() {\r\n  const location = useLocation();\r\n  const { commonStore, userStore } = useStore();\r\n  const { token, setAppLoaded, appLoaded } = commonStore;\r\n  const { getUser } = userStore;\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      getUser().finally(() => setAppLoaded());\r\n    } else {\r\n      setAppLoaded();\r\n    }\r\n  }, [setAppLoaded, getUser, token]);\r\n\r\n  if (!appLoaded) return <Loading content=\"Loading app...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      <Route path=\"/\" component={Home} exact />\r\n\r\n      <Route\r\n        path=\"/(.+)\"\r\n        render={() => (\r\n          <>\r\n            <Navbar />\r\n\r\n            <Background>\r\n              <Content>\r\n                <Switch>\r\n                  <Route path=\"/\" component={Home} exact />\r\n                  <PrivateRoute\r\n                    path=\"/activities\"\r\n                    component={ActivityDashboard}\r\n                    exact\r\n                  />\r\n                  <PrivateRoute path=\"/activities/:id\" component={ActivityDetails} />\r\n                  <PrivateRoute\r\n                    key={location.key}\r\n                    path={[\"/createActivity\", \"/manage/:id\"]}\r\n                    component={ActivityForm}\r\n                  />\r\n                  <PrivateRoute path=\"/profiles/:userName\" component={Profile} />\r\n                  <PrivateRoute path=\"/errors\" component={TestErrors} />\r\n                  <Route path=\"/server-error\" component={ServerError} />\r\n                  <Route path=\"/login\" component={LoginForm} />\r\n                  <Route path=\"/register\" component={RegisterForm} />\r\n                  <Route component={NotFound} />\r\n                </Switch>\r\n              </Content>\r\n            </Background>\r\n          </>\r\n        )}\r\n      />\r\n\r\n      <ToastContainer position=\"bottom-center\" hideProgressBar />\r\n    </Container>\r\n  );\r\n});\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport default createGlobalStyle`\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n  font-size: 62.5%;\r\n}\r\n\r\n#root {\r\n  height: 100vh;\r\n}\r\n\r\nh1, h2, h3, h4, h5, h6 {\r\n  margin-bottom: 0;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n  color: #000;\r\n}\r\n\r\nbody,\r\ninput,\r\nbutton,\r\ntextarea {\r\n  font: 400 1.6rem \"Roboto\", sans-serif;\r\n}\r\n\r\nbutton {\r\n  font-weight: 400;\r\n  cursor: pointer;\r\n}\r\n\r\n.react-calendar {\r\n  width: 100%;\r\n  border: none;\r\n  box-shadow: rgb(99 99 99 / 20%) 0px 2px 8px 0px;\r\n  border-radius: 0.8rem;\r\n}\r\n\r\n.react-datepicker-wrapper, input {\r\n  width: 100%;\r\n}\r\n\r\n.react-datepicker {\r\n  font-size: 1rem;\r\n}\r\n\r\n.ui.dropdown .menu>.item {\r\n  font-size: 1.6rem;\r\n}\r\n\r\n.ui.dropdown .menu .active.item {\r\n  font-weight: 500;\r\n}\r\n\r\n.ui.label, .ui.labels .label {\r\n  font-size: 1.4rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.ui.segment, .ui.segments .segment, .ui.menu, .ui.form textarea{\r\n  font-size: 1.6rem;\r\n}\r\n\r\n.ui.buttons.imgPreview {\r\n  margin-top: 1rem;\r\n  width: 100%;\r\n}\r\n`;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Router } from \"react-router-dom\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\nimport { StoreProvider } from \"./app/stores\";\r\nimport ScrollToTop from './app/layout/ScrollToTop';\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport App from \"./app/layout/App\";\r\n\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport GlobalStyles from \"./app/styles/global\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n  <StoreProvider>\r\n    <Router {...{ history }}>\r\n      <ScrollToTop />\r\n      <App />\r\n      <GlobalStyles />\r\n    </Router>\r\n  </StoreProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}